{"version":3,"sources":["Constants.js","components/Filters/SchoolDistrictFilter.js","components/Filters/PrimaryGraphsChoose.js","components/Filters/YearFilter.js","components/FilterPanel/FilterPanel.js","components/Charts/GenderChart.js","components/Charts/EthnicityChart.js","components/Charts/EconDisChart.js","components/Charts/DisabilityChart.js","components/Charts/ELLChart.js","components/Charts/CourseEnrollment.js","components/NextStepsPanel.js","School.js","App.js","serviceWorker.js","index.js"],"names":["EntityType","EthnicityAcronymList","id","desc","chartColor","EthnicityDefaultMap","AA","value","AS","HI","MR","NA","NH_PI","WH","YearList","Menu","props","optionSelectedLength","getValue","length","children","style","margin","SchoolDistrictFilter","filteredSchools","data","schoolSet","schoolData","schools","Set","schoolName","schoolRow","_type","add","_name","getSchools","districtSet","getDistricts","schoolOptions","optionList","concat","label","createSchoolOptions","districtOptions","districtName","createDistrictOptions","allOptions","display","flexDirection","padding","color","components","isValidNewOption","inputValue","selectValue","options","defaultValue","filter","option","isMulti","required","onChange","selectedOptions","actionMeta","onOptionsChange","styles","checkbox","marginTop","PrimaryGraphChoose","textAlign","type","optionChooseClicKHandler","checked","selectedFilters","gender","ethnicity","economicallyDisadvantaged","disability","englishLanguageLearner","courseEnrollment","targetId","target","newTargetVal","newState","onSelectionChange","YearFilter","yearList","checkboxDivList","forEach","year","push","key","selectedYears","onYearChange","getCheckBoxListForYears","FilterPanel","className","onSchoolFilterChange","newYearSelection","onYearSelectionChange","PrimaryGraphsChoose","newSelection","onGraphSelectionChange","root","fontFamily","position","width","height","overlay","top","right","bottom","left","alignItems","justifyContent","fontSize","pointerEvents","totalLabel","genderChartsParent","borderStyle","backgroundColor","yearChartsParent","GenderChart","yearToSchoolArrayDataMap","dataYears","Object","keys","allYearPieCharts","thisYearPieCharts","schoolDataArray","dataLength","pieCharts","row","index","dataArray","schoolYear","console","log","flexGrow","colors","d","isInteractive","sortByValue","enableSlicesLabels","enableRadialLabels","innerRadius","tooltip","percentage","getTooltipHTML","legends","anchor","direction","itemWidth","itemHeight","translateY","translateX","undefined","getPieCharts","schoolArrayForYear","chartData","_schoolYear","maleCount","_male","femaleCount","_female","thisSchoolData","toFixed","getGenderForSchool","categoryChartsParent","EthnicityChart","createPieCharts","schoolObj","_ethnicity","totalStudents","element","getGroupedEthnicData","EconDisChart","schoolObject","disadvantagedCount","_economicallyDisadvantaged","totalCount","_enrolled","nonDisadvantagedCount","getEconDisForSchool","DisabilityChart","disabilityCount","_studentsWithDisability","nonDisabilityCount","getDisabilityData","ELLChart","languageLearnerCount","_englishLanguageLearner","otherCount","getLanguageLearnerData","CourseEnrollmentChart","maxEnrolledCount","groupMode","scheme","minValue","barData","typeOfBar","primaryLabel","primaryPercentage","secondaryLabel","secondaryPercentage","defs","background","size","stagger","rotation","lineWidth","spacing","borderColor","from","modifiers","dataFrom","justify","itemsSpacing","itemDirection","itemOpacity","symbolSize","effects","on","animate","motionStiffness","motionDamping","getBarCharts","primaryEnrolledCount","_primaryEnrolled","secondaryEnrolledCount","_secondaryEnrolled","schoolDataObject","getCourseEnrollmentDataNew","NextStepsPanel","action","borderWidth","header","learn","footer","minHeight","marginRight","School","this","_ethnicityMap","_districtName","_testTakers","entityType","ethnicityObj","ethnicityMap","name","count","App","graphSelectionChangeHandler","bind","yearSelectionChangeHandler","selectedYearsMap","selectedSchools","yearSchoolObjectMap","transformSchoolData","state","newSchoolData","extractSchoolData","filteredSchoolData","filterYearSchoolObjectMap","charts","createChartsFromFilterState","opts","schoolFilterChangeHandler","CourseEnrollment","setState","selectedSchoolOptions","transformSelectedOptions","validDataArray","filterSchoolDataWithFields","getYearSchoolObjectMapNew","allSchoolNames","thisYearSchoolObjectMap","districtObject","setName","setType","setEthnicityMap","setSchoolYear","setMale","setFemale","setEconomicallyDisadvantaged","setEnrolled","setStudentsWithDisability","thisDistrictEthnicityArray","thisDistrictEthnicityMap","setEthnicity","setEnglishLanguageLearner","setPrimaryEnrolled","setSecondaryEnrolled","schoolNameArray","filteredArray","schoolObjectMap","getSchoolObjectMap","schoolsWithMissingEntry","Number","isInteger","parseInt","thisSchool","setDistrictName","thisSchoolEthnicityArray","thisSchoolEthnicityMap","ethnicityArrayMember","selectedSchoolsArray","filteredSchoolDataMap","selectedYearsArray","React","Component","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"sjwBAAaA,EACD,EADCA,EAEC,EAGDC,EAAuB,CAChC,CACIC,GAAI,KACJC,KAAM,mBACNC,WAAY,WAEhB,CACIF,GAAI,KACJC,KAAM,QACNC,WAAY,QAEhB,CACIF,GAAI,KACJC,KAAM,WACNC,WAAY,SAEhB,CACIF,GAAI,KACJC,KAAM,cACNC,WAAY,UAEhB,CACIF,GAAI,KACJC,KAAM,KACNC,WAAY,QAEhB,CACIF,GAAI,QACJC,KAAM,uCACNC,WAAY,OAEhB,CACIF,GAAI,KACJC,KAAM,QACNC,WAAY,UAIPC,EAAsB,CAC/BC,GAAI,CACAJ,GAAI,KACJC,KAAM,mBACNC,WAAY,UACZG,MAAO,GAEXC,GAAI,CACAN,GAAI,KACJC,KAAM,QACNC,WAAY,OACZG,MAAO,GAEXE,GAAI,CACAP,GAAI,KACJC,KAAM,WACNC,WAAY,QACZG,MAAO,GAEXG,GAAI,CACAR,GAAI,KACJC,KAAM,cACNC,WAAY,SACZG,MAAO,GAEXI,GAAI,CACAT,GAAI,KACJC,KAAM,KACNC,WAAY,OACZG,MAAO,GAEXK,MAAO,CACHV,GAAI,QACJC,KAAM,uCACNC,WAAY,MACZG,MAAO,GAEXM,GAAI,CACAX,GAAI,KACJC,KAAM,QACNC,WAAY,QACZG,MAAO,IAKFO,EAAW,CAAC,MClCzB,IAAMC,EAAO,SAAAC,GACT,IAAMC,EAAuBD,EAAME,WAAWC,QAAU,EACxD,OACI,kBAAC,IAAWJ,KAASC,EAChBC,EAAuB,EACpBD,EAAMI,SAEN,yBAAKC,MAAO,CAAEC,OAAQ,KAAtB,+CAyEDC,MA/Hf,SAA8BP,GAC1B,IAAMQ,EAAmCR,EAAMS,KAEzCC,EA8EV,SAAoBC,GAChB,IAAIC,EAAU,IAAIC,IAClB,IAAK,IAAIC,KAAcH,EAAY,CAC/B,IAAMI,EAAYJ,EAAWG,GACzBC,EAAUC,QAAUhC,GACpB4B,EAAQK,IAAIF,EAAUG,OAI9B,OAAON,EAvFWO,CAAWX,GACvBY,EAoGV,SAAsBT,GAClB,IAAIS,EAAc,IAAIP,IACtB,IAAK,IAAIC,KAAcH,EAAY,CAC/B,IAAMI,EAAYJ,EAAWG,GACzBC,EAAUC,QAAUhC,GACpBoC,EAAYH,IAAIF,EAAUG,OAIlC,OAAOE,EA7GaC,CAAab,GAC3Bc,EAwFV,SAA6BZ,GACzB,IAAIa,EAAa,GADmB,uBAEpC,YAAuBb,EAAvB,+CAAkC,CAAC,IAA1BI,EAAyB,QAC9BS,EAAaA,EAAWC,OAAO,CAC3BjC,MAAOuB,EACPW,MAAOX,KALqB,kFAQpC,OAAOS,EAhGeG,CAAoBhB,GACpCiB,EA8GV,SAA+BP,GAC3B,IAAIG,EAAa,GADuB,uBAExC,YAAyBH,EAAzB,+CAAsC,CAAC,IAA9BQ,EAA6B,QAClCL,EAAaA,EAAWC,OAAO,CAC3BjC,MAAOqC,EACPH,MAAOG,KALyB,kFAQxC,OAAOL,EAtHiBM,CAAsBT,GACxCU,EAAaR,EAAcE,OAAOG,GAKxC,OACI,yBAAKtB,MAAO,CAAE0B,QAAS,OAAQC,cAAe,WAC1C,yBAAK3B,MAAO,CAAE4B,QAAS,SAAvB,uCAGA,yBAAK5B,MAAO,CAAE6B,MAAO,UAYjB,kBAAC,IAAD,CACIC,WAAY,CAAEpC,QACdqC,iBAtBS,SAACC,EAAYC,GAAb,OACrBD,EAAWlC,OAAS,GAAKmC,EAAYnC,OAAS,GAsBlCoC,QAAST,EACTU,aAAcV,EAAWW,QACrB,SAAAC,GAAM,MAAqB,kBAAjBA,EAAOjB,SAErBkB,SAAO,EACPC,UAAQ,EACRC,SAAU,SAACC,EAAiBC,GAAlB,OACN/C,EAAMgD,gBAAgBF,EAAiBC,SC7CzDE,EAAS,CACXC,SAAU,CACNC,UAAW,QA+FJC,MA3Ff,SAA4BpD,GAGxB,OACI,yBACIK,MAAO,CACH0B,QAAS,OACTC,cAAe,SACfqB,UAAW,SAGf,yBAAKhD,MAAO,CAAE4B,QAAS,SAAvB,mBACA,6BACI,yBAAK5B,MAAO4C,EAAOC,UACf,2BACII,KAAK,WACLpE,GAAG,SACH2D,SAAU,SAAAH,GAAM,OACZa,EAAyBvD,EAAO0C,IAEpCc,QAASxD,EAAMyD,gBAAgBC,SAEnC,0CAEJ,yBAAKrD,MAAO4C,EAAOC,UACf,2BACII,KAAK,WACLpE,GAAG,YACH2D,SAAU,SAAAH,GAAM,OACZa,EAAyBvD,EAAO0C,IAEpCc,QAASxD,EAAMyD,gBAAgBE,YAEnC,6CAGJ,yBAAKtD,MAAO4C,EAAOC,UACf,2BACII,KAAK,WACLpE,GAAG,4BACH2D,SAAU,SAAAH,GAAM,OACZa,EAAyBvD,EAAO0C,IAEpCc,QACIxD,EAAMyD,gBAAgBG,4BAG9B,8DAGJ,yBAAKvD,MAAO4C,EAAOC,UACf,2BACII,KAAK,WACLpE,GAAG,aACH2D,SAAU,SAAAH,GAAM,OACZa,EAAyBvD,EAAO0C,IAEpCc,QAASxD,EAAMyD,gBAAgBI,aAEnC,4DAGJ,yBAAKxD,MAAO4C,EAAOC,UACf,2BACII,KAAK,WACLpE,GAAG,yBACH2D,SAAU,SAAAH,GAAM,OACZa,EAAyBvD,EAAO0C,IAEpCc,QAASxD,EAAMyD,gBAAgBK,yBAEnC,6DAGJ,yBAAKzD,MAAO4C,EAAOC,UACf,2BACII,KAAK,WACLpE,GAAG,mBACH2D,SAAU,SAAAH,GAAM,OACZa,EAAyBvD,EAAO0C,IAEpCc,QAASxD,EAAMyD,gBAAgBM,mBAEnC,2DAUpB,SAASR,EAAyBvD,EAAO0C,GACrC,IAAMsB,EAAWtB,EAAOuB,OAAO/E,GACzBgF,EAAexB,EAAOuB,OAAOT,QAG/BW,EAFanE,EAAMyD,gBAGvBU,EAASH,GAAYE,EACrBlE,EAAMoE,kBAAkBD,GCzG5B,IAAMlB,EAAS,CACXC,SAAU,CACNC,UAAW,QAyCJkB,MArCf,SAAoBrE,GAChB,OACI,yBACIK,MAAO,CACH0B,QAAS,OACTC,cAAe,SACfqB,UAAW,SAGf,yBAAKhD,MAAO,CAAE4B,QAAS,SAAvB,wBACA,6BAKZ,SAAiCqC,EAAUtE,GACvC,IAAIuE,EAAkB,GAkBtB,OAhBAD,EAASE,SAAQ,SAAAC,GACbF,EAAgBG,KACZ,yBAAKrE,MAAO4C,EAAOC,SAAUyB,IAAK,QAAUF,GACxC,2BACInB,KAAK,WACLpE,GAAIuF,EACJ5B,SAAU,SAAAH,GAAM,OAgBpC,SAAkC1C,EAAO0C,GACrC,IAAMsB,EAAWtB,EAAOuB,OAAO/E,GACzBgF,EAAexB,EAAOuB,OAAOT,QAG/BW,EAFanE,EAAM4E,cAGvBT,EAASH,GAAYE,EACrBlE,EAAM6E,aAAaV,GAtBCZ,CAAyBvD,EAAO0C,IAEpCc,QAASxD,EAAM4E,cAAcH,KAEjC,+BAAQA,QAKbF,EAxBOO,CAAwBhF,EAAUE,MCgCrC+E,MA5Cf,SAAqB/E,GAGjB,OACI,6BACI,wBAAIK,MAAO,CAAEC,OAAQ,kBAArB,wCAGA,yBACI0E,UAAU,mBACV3E,MAAO,CAAE0B,QAAS,OAAQC,cAAe,WAEzC,6BACI,kBAAC,EAAD,CACIvB,KAAMT,EAAMS,KACZuC,gBAAiB,SAACF,EAAiBC,GAAlB,OACb/C,EAAMiF,qBACFnC,EACAC,OAKhB,6BACI,kBAAC,EAAD,CACI6B,cAAe5E,EAAM4E,cACrBC,aAAgB,SAAAK,GAAgB,OAC5BlF,EAAMmF,sBAAsBD,OAIxC,6BACI,kBAACE,EAAD,CACI3B,gBAAiBzD,EAAMyD,gBACvBW,kBAAmB,SAAAiB,GAAY,OAC3BrF,EAAMsF,uBAAuBD,U,QC6CzD,IAEMpC,EAAS,CACXsC,KAAM,CACFC,WAAY,uBACZnC,UAAW,SACXoC,SAAU,WACVC,MAAO,IACPC,OAAQ,KAEZC,QAAS,CACLH,SAAU,WACVI,IAAK,EACLC,MAbyB,IAczBC,OAAQ,EACRC,KAfgD,GAgBhDjE,QAAS,OACTC,cAAe,SACfiE,WAAY,SACZC,eAAgB,SAChBC,SAAU,GACVjE,MAAO,UAEPmB,UAAW,SAEX+C,cAAe,QAEnBC,WAAY,CACRF,SAAU,IAEdG,mBAAoB,CAChBvE,QAAS,OACTC,cAAe,SAEf0D,MAAO,OAAOa,YAAa,QAC3BtE,QAAS,OACTuE,gBAAiB,WAGrBC,iBAAkB,CACd1E,QAAS,OACTC,cAAe,QA8ER0E,MAtMf,SAAqB1G,GAMjB,IAAM2G,EAA2B3G,EAAM2G,yBACjCC,EAAYC,OAAOC,KAAKH,GAE1BI,EAAmB,GAevB,OAbAH,EAAUpC,SAAQ,SAAAC,GACd,IACIuC,EA+GZ,SAAsBC,GAClB,IAAMC,EAAaD,EAAgB9G,OAC/BgH,EAAY,GAwDhB,OAtDAF,EAAgBzC,SAAQ,SAAC4C,EAAKC,GAC1B,IAAMvG,EAAasG,EAAItG,WACjBH,EAAayG,EAAIE,UACjBC,EAAaH,EAAIG,WACvBC,QAAQC,IAAI,gBAAkBF,GAE9BJ,EAAUzC,KACN,yBAAKC,IAAK7D,EAAYT,MAAO4C,EAAOsC,MAChC,yBAAKlF,MAAO,CAAEsF,OAAQ,MAAO+B,SAAU,MACnC,kBAAC,IAAD,CACI/C,IAAK7D,EACL6G,OAAQ,SAAAC,GAAC,OAAIA,EAAE1F,OACf2F,eAAe,EACfpH,KAAME,EACNmH,aAAa,EACbC,oBAAoB,EACpBC,oBAAoB,EACpB1H,OAAQ,CAAEuF,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAChDiC,YAAa,GACbC,QAAS,SAAAzH,GACL,OAqC5B,SAAwBA,GACpB,OACI,yBACIJ,MAAO,CAAE0B,QAAS,OAAQC,cAAe,SAAUE,MAAO,UAE1D,6BACKzB,EAAKgB,MADV,KACmBhB,EAAKlB,OAExB,4CAAkBkB,EAAK0H,WAAvB,MA7CuBC,CAAe3H,IAE1B4H,QACIhB,EAAQ,IAAMH,EACR,CACI,CACIoB,OAAQ,YACRC,UAAW,SACXC,UAAW,GACXC,WAAY,GACZC,WAAY,GACZC,WAAY,UAKpBC,KAOlB,yBAAKvI,MAAO,CAAEqH,SAAU,MAAQ5G,QAWrCqG,EAzKqB0B,CAsBhC,SAA4BC,GACxB,IAAIC,EAAY,GAuChB,OArCID,EAAmBtE,SAAQ,SAAAzD,GACvB,IAAMD,EAAaC,EAAUG,MACvBqG,EAAaxG,EAAUiI,YACvBC,EAAYlI,EAAUmI,MACtBC,EAAcpI,EAAUqI,QAU1BC,EAAiB,GACjBpC,EAAkB,CAClB,CACI/H,GAAI,OACJK,MAAO0J,EACPd,YAbHc,GAAaA,EAAYE,GAC1B,KACFG,QAAQ,GAYFpH,MAAO,SACPT,MAAO,QAEX,CACIvC,GAAI,SACJK,MAAO4J,EACPhB,YAhBHgB,GAAeF,EAAYE,GAC5B,KACFG,QAAQ,GAeFpH,MAAO,OACPT,MAAO,WAGf4H,EAAevI,WAAaA,EAC5BuI,EAAe/B,UAAYL,EAC3BoC,EAAe9B,WAAaA,EAC5BwB,EAAUrE,KAAK2E,MAGhBN,EA/D6BQ,CAAmB5C,EAAyBlC,KAGxEsC,EAAiBrC,KACjB,yBAAKC,IAAKF,EAAMpE,MAAO4C,EAAOwD,kBAC1B,8BAAOhC,GACNuC,OAOT,yBAAK9H,GAAG,oBACJmB,MAAO4C,EAAOqD,oBAEd,wBAAI3B,IAAK,kBAAT,UACCoC,ICqCb,IAAM9D,EAAS,CACXsC,KAAM,CACFC,WAAY,uBACZnC,UAAW,SACXoC,SAAU,WACVC,MAAO,IACPC,OAAQ,KAGZU,WAAY,CACRF,SAAU,IAEdqD,qBAAsB,CAClBzH,QAAS,OACTC,cAAe,SAEf0D,MAAO,OACPa,YAAa,QACbtE,QAAS,OACTuE,gBAAiB,WAErBC,iBAAkB,CACd1E,QAAS,OACTC,cAAe,QAuDRyH,MAhJf,SAAwBzJ,GAGpB,IAAM2G,EAA2B3G,EAAM2G,yBACjCC,EAAYC,OAAOC,KAAKH,GAC1BI,EAAmB,GAcvB,OAZAH,EAAUpC,SAAQ,SAAAC,GACd,IACIuC,EAoFZ,SAAyB+B,GACrB,IAAI5B,EAAY,GACVD,EAAa6B,EAAU5I,OA8C7B,OA7CA4I,EAAUvE,SAAQ,SAAC4C,EAAKC,GACpBF,EAAUzC,KACN,yBAAKC,IAAKyC,EAAItG,WAAYT,MAAO4C,EAAOsC,MACpC,yBAAKlF,MAAO,CAAEsF,OAAQ,MAAO+B,SAAU,MACnC,kBAAC,IAAD,CACI/C,IAAKyC,EAAItG,WACTL,KAAM2G,EAAIE,UACVhH,OAAQ,CAAEuF,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAChD2B,OAAQ,SAAAC,GAAC,OAAIA,EAAExI,YACf0I,aAAa,EACbE,oBAAoB,EACpBD,oBAAoB,EACpBE,YAAa,GACbC,QAAS,SAAAzH,GACL,OAoC5B,SAAwBA,GACpB,OACI,yBACIvB,GAAIuB,EAAKvB,GACTmB,MAAO,CAAE0B,QAAS,OAAQC,cAAe,SAAUE,MAAO,UAE1D,6BACKzB,EAAKtB,KADV,KACkBsB,EAAKlB,OAEvB,4CAAkBkB,EAAK0H,WAAvB,MA7CuBC,CAAe3H,IAE1B4H,QACIhB,EAAQ,IAAMH,EACR,CACI,CACIoB,OAAQ,YACRC,UAAW,SACXC,UAAW,GACXC,WAAY,GACZC,WAAY,GACZC,WAAY,UAKpBC,KAIlB,yBAAKvI,MAAO,CAAEqH,SAAU,MAAQN,EAAItG,iBAWzCqG,EApIqBuC,CA4BhC,SAA8BZ,GAC1B,IAAIC,EAAY,GAwBhB,OAvBAD,EAAmBtE,SAAQ,SAAAmF,GACvB,IAAM7I,EAAa6I,EAAUzI,MACzBmI,EAAiB,GACjBpC,EAAkB,GAEtBA,EAAkB0C,EAAUC,WAG5B,IAAIC,EAAgB,EACpB5C,EAAgBzC,SAAQ,SAAAsF,GAAO,OAAKD,GAAiBC,EAAQvK,SAC7D0H,EAAgBzC,SACZ,SAAAsF,GAAO,OACFA,EAAQ3B,YACJ2B,EAAQvK,MAAQsK,EACjB,KACFP,QAAQ,MAGlBD,EAAevI,WAAaA,EAC5BuI,EAAe/B,UAAYL,EAC3B8B,EAAUrE,KAAK2E,MAGZN,EAtD6BgB,CAAqBpD,EAAyBlC,KAG9EsC,EAAiBrC,KACb,yBAAKC,IAAKF,EAAMpE,MAAO4C,EAAOwD,kBAC1B,8BAAOhC,GACNuC,OAMT,yBAAK9H,GAAG,uBACJmB,MAAO4C,EAAOuG,sBAEd,wBAAI7E,IAAI,oBAAR,aACCoC,ICqEb,IAAM9D,EAAS,CACXsC,KAAM,CACFC,WAAY,uBACZnC,UAAW,SACXoC,SAAU,WACVC,MAAO,IACPC,OAAQ,KAGZU,WAAY,CACRF,SAAU,IAEdqD,qBAAsB,CAClBzH,QAAS,OACTC,cAAe,SAEf0D,MAAO,OACPa,YAAa,QACbtE,QAAS,OACTuE,gBAAiB,WAErBC,iBAAkB,CACd1E,QAAS,OACTC,cAAe,QAyERgI,MA7Lf,SAAsBhK,GAElB,IAAM2G,EAA2B3G,EAAM2G,yBACjCC,EAAYC,OAAOC,KAAKH,GAC1BI,EAAmB,GAuBvB,OArBAH,EAAUpC,SAAQ,SAAAC,GACd,IACIuC,EAgHZ,SAAsBC,GAClB,IAAMC,EAAaD,EAAgB9G,OAC/BgH,EAAY,GAmDhB,OAjDAF,EAAgBzC,SAAQ,SAAC4C,EAAKC,GAC1B,IAAMvG,EAAasG,EAAItG,WACjBH,EAAayG,EAAIE,UACvBH,EAAUzC,KACN,yBAAKC,IAAK7D,EAAYT,MAAO4C,EAAOsC,MAChC,yBAAKlF,MAAO,CAAEsF,OAAQ,MAAO+B,SAAU,MACnC,kBAAC,IAAD,CACI/C,IAAK7D,EACL6G,OAAQ,SAAAC,GAAC,OAAIA,EAAE1F,OACf2F,eAAe,EACfpH,KAAME,EACNmH,aAAa,EACbC,oBAAoB,EACpBC,oBAAoB,EACpB1H,OAAQ,CAAEuF,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAChDiC,YAAa,GACbC,QAAS,SAAAzH,GACL,OAmC5B,SAAwBA,GACpB,OACI,yBACIJ,MAAO,CAAE0B,QAAS,OAAQC,cAAe,SAAUE,MAAO,UAE1D,6BACKzB,EAAKgB,MADV,KACmBhB,EAAKlB,OAExB,4CAAkBkB,EAAK0H,WAAvB,MA3CuBC,CAAe3H,IAE1B4H,QACIhB,EAAQ,IAAMH,EACR,CACI,CACIoB,OAAQ,SACRC,UAAW,MACXC,UAAW,IACXC,WAAY,GACZC,WAAY,GACZC,WAAY,UAGpBC,KAIlB,yBAAKvI,MAAO,CAAEqH,SAAU,MAAQ5G,QAcrCqG,EArKqB0B,CAgChC,SAA6BC,GACzB,IAAIC,EAAY,GAwChB,OAvCAD,EAAmBtE,SAAQ,SAAAyF,GACvB,IAAMnJ,EAAamJ,EAAa/I,MAC1BgJ,EAAqBD,EAAaE,2BAClCC,EAAaH,EAAaI,UAC1BC,EAAwBF,EAAaF,EAWvCb,EAAiB,GACjBpC,EAAkB,CAClB,CACI/H,GAAI,gBACJK,MAAO2K,EACP/B,YAbH+B,EAAqBE,EACtB,KACFd,QAAQ,GAYFpH,MAAO,SACPT,MAAO,8BAEX,CACIvC,GAAI,SACJK,MAAO+K,EACPnC,YAhBHmC,EAAwBF,EACzB,KACFd,QAAQ,GAeFpH,MAAO,OACPT,MAAO,WAGf4H,EAAevI,WAAaA,EAC5BuI,EAAe/B,UAAYL,EAC3B8B,EAAUrE,KAAK2E,MAKZN,EA1E6BwB,CAAoB5D,EAAyBlC,KAG7EsC,EAAiBrC,KACb,yBAAKC,IAAKF,EAAMpE,MAAO4C,EAAOwD,kBAC1B,8BAAOhC,GACNuC,OAeT,yBAAK9H,GAAG,qBACHmB,MAAO4C,EAAOuG,sBAEf,wBAAI7E,IAAI,kBAAR,8BACCoC,IC8Cb,IAAM9D,EAAS,CACXsC,KAAM,CACFC,WAAY,uBACZnC,UAAW,SACXoC,SAAU,WACVC,MAAO,IACPC,OAAQ,KAGZU,WAAY,CACRF,SAAU,IAEdqD,qBAAsB,CAClBzH,QAAS,OACTC,cAAe,SAEf0D,MAAO,OACPa,YAAa,QACbtE,QAAS,OACTuE,gBAAiB,WAErBC,iBAAkB,CACd1E,QAAS,OACTC,cAAe,QA6ERwI,MAlLf,SAAyBxK,GAErB,IAAM2G,EAA2B3G,EAAM2G,yBACjCC,EAAYC,OAAOC,KAAKH,GAC1BI,EAAmB,GAcvB,OAZAH,EAAUpC,SAAQ,SAAAC,GACd,IACIuC,EAiGZ,SAAsBC,GAClB,IAAMC,EAAaD,EAAgB9G,OAC/BgH,EAAY,GAuDhB,OArDAF,EAAgBzC,SAAQ,SAAC4C,EAAKC,GAC1B,IAAMvG,EAAasG,EAAItG,WACjBH,EAAayG,EAAIE,UACvBH,EAAUzC,KACN,yBAAKC,IAAK7D,EAAYT,MAAO4C,EAAOsC,MAChC,yBAAKlF,MAAO,CAAEsF,OAAQ,MAAO+B,SAAU,MACnC,kBAAC,IAAD,CACI/C,IAAK7D,EACL6G,OAAQ,SAAAC,GAAC,OAAIA,EAAE1F,OACf2F,eAAe,EACfpH,KAAME,EACNmH,aAAa,EACbC,oBAAoB,EACpBC,oBAAoB,EACpBC,YAAa,GACb3H,OAAQ,CAAEuF,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAChDkC,QAAS,SAAAzH,GACL,OAuC5B,SAAwBA,GACpB,OACI,yBACIJ,MAAO,CAAE0B,QAAS,OAAQC,cAAe,SAAUE,MAAO,UAE1D,6BACKzB,EAAKgB,MADV,KACmBhB,EAAKlB,OAExB,4CAAkBkB,EAAK0H,WAAvB,MA/CuBC,CAAe3H,IAE1B4H,QACIhB,EAAQ,IAAMH,EACR,CACI,CACIoB,OAAQ,YACRC,UAAW,SACXC,UAAW,GACXC,WAAY,GACZC,WAAY,GACZC,WAAY,UAKpBC,KAIlB,yBAAKvI,MAAO,CAAEqH,SAAU,MAAQ5G,QAgBrCqG,EA1JqB0B,CAwBhC,SAA2BC,GACvB,IAAIC,EAAY,GAyChB,OAxCAD,EAAmBtE,SAAQ,SAAAyF,GACvB,IAAMnJ,EAAamJ,EAAa/I,MAC1BuJ,EAAkBR,EAAaS,wBAC/BN,EAAaH,EAAaI,UAC1BM,EAAqBP,EAAaK,EAWpCpB,EAAiB,GACjBpC,EAAkB,CAClB,CAEI/H,GAAI,MACJK,MAAOkL,EACPtC,YAdHsC,EAAkBL,EACnB,KACFd,QAAQ,GAaFpH,MAAO,SACPT,MAAO,4BAEX,CACIvC,GAAI,SACJK,MAAOoL,EACPxC,YAjBHwC,EAAqBP,EACtB,KACFd,QAAQ,GAgBFpH,MAAO,OACPT,MAAO,WAGf4H,EAAevI,WAAaA,EAC5BuI,EAAe/B,UAAYL,EAC3B8B,EAAUrE,KAAK2E,MAKZN,EAnE6B6B,CAAkBjE,EAAyBlC,KAG3EsC,EAAiBrC,KACb,yBAAKC,IAAKF,EAAMpE,MAAO4C,EAAOwD,kBAC1B,8BAAOhC,GACNuC,OAMT,yBAAK9H,GAAG,wBACHmB,MAAO4C,EAAOuG,sBAEf,wBAAI7E,IAAI,qBAAR,4BACCoC,ICsDb,IAAM9D,EAAS,CACXsC,KAAM,CACFC,WAAY,uBACZnC,UAAW,SACXoC,SAAU,WACVC,MAAO,IACPC,OAAQ,KAGZU,WAAY,CACRF,SAAU,IAEdqD,qBAAsB,CAClBzH,QAAS,OACTC,cAAe,SAEf0D,MAAO,OACPa,YAAa,QACbtE,QAAS,OACTuE,gBTb0C,WSe9CC,iBAAkB,CACd1E,QAAS,OACTC,cAAe,QAgER6I,MAhKf,SAAkB7K,GAEd,IAAM2G,EAA2B3G,EAAM2G,yBACjCC,EAAYC,OAAOC,KAAKH,GAC1BI,EAAmB,GAcvB,OAZAH,EAAUpC,SAAQ,SAAAC,GACd,IACIuC,EA4FZ,SAAsBC,GAClB,IAAMC,EAAaD,EAAgB9G,OAC/BgH,EAAY,GA0ChB,OAxCAF,EAAgBzC,SAAQ,SAAC4C,EAAKC,GAC1B,IAAMvG,EAAasG,EAAItG,WACjBH,EAAayG,EAAIE,UACvBH,EAAUzC,KACN,yBAAKC,IAAK7D,EAAYT,MAAO4C,EAAOsC,MAChC,yBAAKlF,MAAO,CAAEsF,OAAQ,MAAO+B,SAAU,MACnC,kBAAC,IAAD,CACI/C,IAAK7D,EACL6G,OAAQ,SAAAC,GAAC,OAAIA,EAAE1F,OACf2F,eAAe,EACfpH,KAAME,EACNmH,aAAa,EACbC,oBAAoB,EACpBC,oBAAoB,EACpBC,YAAa,GACb3H,OAAQ,CAAEuF,IAAK,GAAIC,MAAO,GAAIC,OAAQ,GAAIC,KAAM,IAChDkC,QAAS,SAAAzH,GACL,OA0B5B,SAAwBA,GACpB,OACI,yBACIJ,MAAO,CAAE0B,QAAS,OAAQC,cAAe,SAAUE,MAAO,UAE1D,6BACKzB,EAAKgB,MADV,KACmBhB,EAAKlB,OAExB,4CAAkBkB,EAAK0H,WAAvB,MAlCuBC,CAAe3H,IAE1B4H,QACIhB,EAAQ,IAAMH,EACR,CACI,CACIoB,OAAQ,SACRC,UAAW,MACXC,UAAW,IACXC,WAAY,GACZC,WAAY,GACZC,WAAY,UAGpBC,KAIlB,yBAAKvI,MAAO,CAAEqH,SAAU,MAAQ5G,QAKrCqG,EAxIqB0B,CAyBhC,SAAgCC,GAC5B,IAAIC,EAAY,GAoChB,OAnCAD,EAAmBtE,SAAQ,SAAAyF,GACvB,IAAMnJ,EAAamJ,EAAa/I,MAC1B4J,EAAuBb,EAAac,wBACpCX,EAAaH,EAAaI,UAC1BW,EAAaZ,EAAaU,EAQ5BzB,EAAiB,GACjBpC,EAAkB,CAClB,CAEI/H,GAAI,MACJK,MAAOuL,EACP3C,YAXH2C,EAAuBV,EACxB,KACFd,QAAQ,GAUFpH,MAAO,SACPT,MAAO,4BAEX,CACIvC,GAAI,SACJK,MAAOyL,EACP7C,YAfkB6C,EAAaZ,EAAc,KAAKd,QAAQ,GAgB1DpH,MAAO,OACPT,MAAO,WAGf4H,EAAevI,WAAaA,EAC5BuI,EAAe/B,UAAYL,EAC3B8B,EAAUrE,KAAK2E,MAGZN,EA/D6BkC,CAAuBtE,EAAyBlC,KAGhFsC,EAAiBrC,KACb,yBAAKC,IAAKF,EAAMpE,MAAO4C,EAAOwD,kBAC1B,8BAAOhC,GACNuC,OAMT,yBAAK9H,GAAG,iBACHmB,MAAO4C,EAAOuG,sBAEf,wBAAI7E,IAAI,cAAR,6BACCoC,I,SC6Db,IAAM9D,EAAS,CACXsC,KAAM,CACFC,WAAY,uBACZnC,UAAW,SACXoC,SAAU,WACVC,MAAO,OACPC,OAAQ,KAGZU,WAAY,CACRF,SAAU,IAEdqD,qBAAsB,CAClBzH,QAAS,OACTC,cAAe,SAEf0D,MAAO,OACPa,YAAa,QACbtE,QAAS,OACTuE,gBVxB0C,WU0B9CC,iBAAkB,CACd1E,QAAS,OACTC,cAAe,QA+JRkJ,MAzQf,SAA+BlL,GAE3B,IAAM2G,EAA2B3G,EAAM2G,yBACjCC,EAAYC,OAAOC,KAAKH,GAC1BI,EAAmB,GA0BvB,OAxBAH,EAAUpC,SAAQ,SAAAC,GAEd,IAYIuC,EA0FZ,SAAsBC,EAAiBkE,GAChBlE,EAAgB9G,OAAnC,IACIgH,EAAY,GAKNxG,EAAasG,EAiHvB,OA9GIO,QAAQC,IAAI,uBACZD,QAAQC,IAAI9G,GAEZwG,EAAUzC,KACN,yBAEIrE,MAAO4C,EAAOsC,MACd,yBAAKlF,MAAO,CAAEsF,OAAQ,MAAO+B,SAAU,IACnChC,MAAO,SAEP,kBAAC,IAAD,CACIjF,KAAME,EACNmG,KAAM,CAAE,UAAW,aACnBxG,OAAQ,CAAEuF,IAAK,GAAIC,MAAO,IAAKC,OAAQ,GAAIC,KAAM,IACjD/D,QAAS,GACTmJ,UAAU,UACVzD,OAAQ,CAAE0D,OAAQ,QAClBC,SAAU,EAEVpD,QAAS,SAAAzH,GACL,OA6F5B,SAAwBA,GAEpB+G,QAAQC,IAAI,WACZD,QAAQC,IAAIhH,GAGZ,IAAM8K,EAAU9K,EAAKA,KACf+K,EAAY/K,EAAKvB,GACnBuC,EAAQ,GACR0G,EAAa,GAEA,YAAdqD,GACC/J,EAAQ8J,EAAQE,aAChBtD,EAAaoD,EAAQG,oBAGrBjK,EAAQ8J,EAAQI,eAChBxD,EAAaoD,EAAQK,qBAGzB,OACI,yBACIvL,MAAO,CAAE0B,QAAS,OAAQC,cAAe,SAAUE,MAAO,UAE1D,6BACKT,EADL,KACc8J,EAAQhM,OAEtB,4CAAkB4I,EAAlB,MAxHuBC,CAAe3H,IAE1BoL,KAAM,CACF,CACI3M,GAAI,OACJoE,KAAM,cACNwI,WAAY,UACZ5J,MAAO,UACP6J,KAAM,EACN9J,QAAS,EACT+J,SAAS,GAEb,CACI9M,GAAI,QACJoE,KAAM,eACNwI,WAAY,UACZ5J,MAAO,UACP+J,UAAW,GACXC,UAAW,EACXC,QAAS,KAiBjBC,YAAa,CAAEC,KAAM,QAASC,UAAW,CAAE,CAAE,SAAU,OAoBvDjE,QAAS,CACL,CACIkE,SAAU,OACVjE,OAAQ,eACRC,UAAW,SACXiE,SAAS,EACT7D,WAAY,IACZD,WAAY,EACZ+D,aAAc,EACdjE,UAAW,IACXC,WAAY,GACZiE,cAAe,gBACfC,YAAa,IACbC,WAAY,GACZC,QAAS,CACL,CACIC,GAAI,QACJzM,MAAO,CACHsM,YAAa,OAMjCI,SAAS,EACTC,gBAAiB,GACjBC,cAAe,QAQ5B9F,EAlNqB+F,CAwBhC,SAAoCpE,GAChC,IAAIC,EAAY,GAmChB,OAlCAD,EAAmBtE,SAAQ,SAAAyF,GACvB,IAAMnJ,EAAamJ,EAAa/I,MAC1BiM,EAAuBlD,EAAamD,iBACpCC,EAAyBpD,EAAaqD,mBACtClD,EAAa+C,EAAuBE,EAStCE,EAAmB,CACfrO,GAAI4B,EACJ,QAAWqM,EAEXzB,mBAVHyB,EAAuB/C,EACxB,KACFd,QAAQ,GAUFmC,aAAc,oCACd,UAAa4B,EACbzB,qBAX8ByB,EAAyBjD,EAAc,KAAKd,QAAQ,GAalFqC,eAAgB,+BAKxB5C,EAAUrE,KAAK6I,MAGnB/F,QAAQC,IAAI,aACZD,QAAQC,IAAIsB,GAELA,EAxE6ByE,CAA2B7G,EAAyBlC,KAcpFsC,EAAiBrC,KACb,yBAAKC,IAAKF,EAAMpE,MAAO4C,EAAOwD,kBAC1B,8BAAOhC,GACNuC,OAMT,yBAAK9H,GAAG,8BACHmB,MAAO4C,EAAOuG,sBAEf,wBAAI7E,IAAI,2BAAR,wBACCoC,IC4CE0G,MA1Ff,WACI,IAAMxK,EAAS,CACXyK,OAAQ,CACJpN,OAAQ,OACRoF,MAAO,MACPa,YAAa,QACboH,YAAa,MACb1L,QAAS,QAEbmF,IAAK,CACDrF,QAAS,OACTC,cAAe,MACfiE,WAAY,SACZ3F,OAAQ,OACRoF,MAAO,OAGXkI,OAAQ,CACJjI,OAAQ,MACRO,eAAgB,SAChBD,WAAY,SACZlE,QAAS,OACToE,SAAU,YAEd0H,MAAO,CACHlI,OAAQ,MACRO,eAAgB,SAChBD,WAAY,SACZlE,QAAS,OACToE,SAAU,OACVT,MAAO,QAEXoI,OAAQ,CACJ/L,QAAS,OACTC,cAAe,cACfwE,gBAAiB,UACjBb,OAAQ,MACRM,WAAY,SACZE,SAAU,SAIlB,OACI,yBACInB,UAAU,MACV3E,MAAO,CACH0B,QAAS,OACTgM,UAAW,OACX/L,cAAe,SACfwE,gBAAiB,UACjBd,MAAO,SAGX,yBAAKrF,MAAO4C,EAAO2K,QACf,wBAAI5I,UAAU,oBAAd,eAEJ,yBACI3E,MAAO,CACH0B,QAAS,OACTC,cAAe,SACfiE,WAAY,SACZE,SAAU,UACVR,OAAQ,QAGZ,yBAAKtF,MAAO4C,EAAOmE,KACf,yBAAK/G,MAAO4C,EAAOyK,QAAnB,kCAGA,yBAAKrN,MAAO4C,EAAOyK,QAAnB,4BAEJ,yBAAKrN,MAAO4C,EAAOmE,KACf,yBAAK/G,MAAO4C,EAAOyK,QAAnB,sBACA,yBAAKrN,MAAO4C,EAAOyK,QAAnB,2BAGR,yBAAKrN,MAAO4C,EAAO4K,OACf,0BAAMxN,MAAO,CAAEqF,MAAO,QAAtB,sKAMJ,yBAAKrF,MAAO4C,EAAO6K,QACf,0BAAMzN,MAAO,CAAE2N,YAAa,SAA5B,mB,SCODC,E,WA1FX,aAAe,oBACXC,KAAKhF,MAAQ,EACbgF,KAAK9E,QAAU,EACf8E,KAAKtE,WAAa,GAClBsE,KAAKC,cAAgB,GACrBD,KAAKE,cAAgB,GACrBF,KAAKlN,MAAQ,EACbkN,KAAKhN,MAAQ,GACbgN,KAAK/D,2BAA6B,EAClC+D,KAAK7D,UAAY,EACjB6D,KAAKG,YAAc,EACnBH,KAAKxD,wBAA0B,EAC/BwD,KAAKlF,YAAc,KACnBkF,KAAKnD,wBAA0B,EAC/BmD,KAAKd,iBAAmB,EACxBc,KAAKZ,mBAAqB,E,oDAGtBgB,GACAA,IAAetP,GAAqBA,EACpCkP,KAAKlN,MAAQsN,GAEbJ,KAAKlN,MAAQhC,EACbwI,QAAQC,IAAI,2B,8BAIZwB,GAEJiF,KAAKhF,MAAQD,I,gCAGPE,GAEN+E,KAAK9E,QAAUD,I,mCAGNoF,GAETL,KAAKtE,WAAa2E,I,sCAGNC,GAEZN,KAAKC,cAAgBK,I,sCAGT5M,GAEZsM,KAAKE,cAAgBxM,I,8BAGjB6M,GACJP,KAAKhN,MAAQuN,I,mDAGYC,GACzBR,KAAK/D,2BAA6BuE,I,kCAG1BA,GACRR,KAAK7D,UAAYqE,I,oCAGPA,GACVR,KAAKG,YAAcK,I,gDAGGA,GACtBR,KAAKxD,wBAA0BgE,I,oCAGrBjK,GACVyJ,KAAKlF,YAAcvE,I,gDAGGiK,GACtBR,KAAKnD,wBAA0B2D,I,yCAIhBnP,GACf2O,KAAKd,iBAAmB7N,I,2CAGPA,GACjB2O,KAAKZ,mBAAqB/N,M,KCicnBoP,E,YAjgBX,WAAY3O,GAAQ,IAAD,uBACf,4CAAMA,KACD4O,4BAA8B,EAAKA,4BAA4BC,KAAjC,gBAGnC,EAAKC,2BAA6B,EAAKA,2BAA2BD,KAAhC,gBAElC,IAAIE,EAAmB,GACvBjP,EAAS0E,SAAQ,SAAAC,GACbsK,EAAiBtK,IAAQ,KAE7BsK,EAAiBjP,EAASA,EAASK,OAAS,KAAM,EAClD,IAAM6O,EAAkB,CAAC,iBACnBC,EAAsB,EAAKC,oBAC7BvO,EACAqO,EACAD,GAhBW,OAmBf,EAAKI,MAAQ,CACTC,cAAeH,EACftO,WAAY,EAAK0O,kBAAkB1O,GAInCW,cAAe0N,EACfvL,gBAAiB,CACbC,QAAQ,EACRC,WAAW,EACXC,2BAA2B,EAC3BC,YAAY,EACZC,wBAAwB,EACxBC,kBAAkB,GAEtBgL,iBAAkBA,EAClBO,mBAAoB,EAAKC,0BAA0BN,EAAqBD,EAAiBD,IAnC9E,E,sEAwCT,IAAD,OACCS,EAAStB,KAAKuB,8BAEpB,OACI,yBACIzK,UAAU,MACV3E,MAAO,CAAE0B,QAAS,OAAQC,cAAe,WAEzC,yBAAK3B,MAAO,CAAEsF,OAAQ,QAClB,iDAEJ,yBAAKX,UAAU,MAAM3E,MAAO,CAAE0B,QAAS,SACnC,yBACIiD,UAAU,eACV3E,MAAO,CAAEmG,gBAAiB,cAE1B,kBAAC,EAAD,CACI/F,KAAMyN,KAAKiB,MAAMxO,WACjB8C,gBAAiByK,KAAKiB,MAAM1L,gBAC5BmB,cAAesJ,KAAKiB,MAAMJ,iBAC1B9J,qBAAsB,SAACyK,EAAM3M,GAAP,OAClB,EAAK4M,0BAA0BD,EAAM3M,IAEzCuC,uBACI4I,KAAKU,4BAETzJ,sBAAuB+I,KAAKY,8BAGpC,yBAAK9J,UAAU,eAAewK,IAElC,kBAAC,EAAD,S,oDAMR,IAAM/L,EAAkByK,KAAKiB,MAAM1L,gBAE/B+L,EAAS,GA+Db,OA9D+B,IAA3B/L,EAAgBC,QAChB8L,EAAO9K,KACH,kBAAC,EAAD,CACIiC,yBAA0BuH,KAAKiB,MAAMG,mBACrC3K,IAAI,kBAKkB,IAA9BlB,EAAgBE,WAChB6L,EAAO9K,KACH,kBAAC,EAAD,CAGIiC,yBAA0BuH,KAAKiB,MAAMG,mBACrC3K,IAAI,qBAKkC,IAA9ClB,EAAgBG,2BAChB4L,EAAO9K,KACH,kBAAC,EAAD,CACIiC,yBAA0BuH,KAAKiB,MAAMG,mBAGrC3K,IAAI,qCAKmB,IAA/BlB,EAAgBI,YAChB2L,EAAO9K,KACH,kBAAC,EAAD,CACIiC,yBAA0BuH,KAAKiB,MAAMG,mBAGrC3K,IAAI,sBAK+B,IAA3ClB,EAAgBK,wBAChB0L,EAAO9K,KACH,kBAAC,EAAD,CACIiC,yBAA0BuH,KAAKiB,MAAMG,mBAGrC3K,IAAI,eAKyB,IAArClB,EAAgBM,kBAChByL,EAAO9K,KACH,kBAACkL,EAAD,CACIjJ,yBAA0BuH,KAAKiB,MAAMG,mBACrC3K,IAAI,qBAKT6K,I,kDAGiBnK,GACxB6I,KAAK2B,SAAS,CACVpM,gBAAiB4B,M,iDAIEA,GACvB6I,KAAK2B,SAAS,CACVjL,cAAeS,EACfiK,mBAAoBpB,KAAKqB,0BAA0BrB,KAAKiB,MAAMC,cAAelB,KAAKiB,MAAM7N,cAAe+D,O,gDAIrFvC,EAAiBC,GACvCyE,QAAQC,IAAI1E,GACPD,IACDA,EAAkB,IAGtB,IAAMgN,EAAwB5B,KAAK6B,yBAAyBjN,GAC5DoL,KAAK2B,SAAS,CACVvO,cAAewO,EACfR,mBAAoBpB,KAAKqB,0BAA0BrB,KAAKiB,MAAMC,cAAeU,EAAuB5B,KAAKiB,MAAMJ,sB,0CAWnG9H,EAAiB+H,EAAiBpK,GAOlD,IANA,IAAIoL,EAAiB9B,KAAK+B,2BAA2BhJ,GACjDgI,EAAsBf,KAAKgC,0BAA0BF,GAKzD,MADiBnJ,OAAOC,KAAKmI,GAC7B,eAA2B,CAIvB,IAJC,IAAIxK,EAAI,KACH0L,EAAiBtJ,OAAOC,KAAKmI,EAAoBxK,IACnD2L,EAA0BnB,EAAoBxK,GAElD,MAAuB0L,EAAvB,eAAuC,CAAlC,IACKlG,EAAemG,EADN,MAETxO,EAAeqI,EAAamE,cAC5B7G,EAAa0C,EAAajB,YAE5BqH,EAAiBD,EAAwBxO,GACxCyO,KACDA,EAAiB,IAAIpC,GACNqC,QAAQ1O,GACvByO,EAAeE,QAAQvR,GACvBqR,EAAeG,gBAAgBnR,GAC/BgR,EAAeI,cAAclJ,IAKjC8I,EAAeK,QACXL,EAAenH,MAAQe,EAAaf,OAExCmH,EAAeM,UACXN,EAAejH,QAAUa,EAAab,SAG1CiH,EAAeO,6BACXP,EAAelG,2BACXF,EAAaE,4BAGrBkG,EAAeQ,YACXR,EAAehG,UAAYJ,EAAaI,WAE5CgG,EAAeS,0BACXT,EAAe3F,wBACXT,EAAaS,yBAGrB,IAAIqG,EAA6B,GAC7BC,EAA2BX,EAAelC,cAE9C,IAAK,IAAIxJ,KAAOsF,EAAakE,cAAe,CACxC,IAAMI,EAAetE,EAAakE,cAAcxJ,GAChDqM,EAAyBrM,GAAKpF,OAASgP,EAAahP,MACpDwR,EAA2BrM,KACvBsM,EAAyBrM,IAIjC0L,EAAeG,gBAAgBQ,GAC/BX,EAAeY,aAAaF,GAE5BV,EAAea,0BACXb,EAAetF,wBACXd,EAAac,yBAGrBsF,EAAec,mBAAmBd,EAAejD,iBAAmBnD,EAAamD,kBACjFiD,EAAee,qBAAqBf,EAAe/C,mBAAqBrD,EAAaqD,oBAErF8C,EAAwBxO,GAAgByO,EAE5CpB,EAAoBxK,GAAQ2L,EAGhC,OAAOnB,I,+CAGcnM,GACrB,IAAIuO,EAAkB,GAItB,OAHAvO,EAAgB0B,SAAQ,SAAA4C,GACpBiK,EAAgB3M,KAAK0C,EAAI3F,UAEtB4P,I,wCAGOpK,GACd,IAAIqK,EACAC,EAAkB,GAItBD,EAAgBpD,KAAK+B,2BAA2BhJ,GAChDsK,EAAkBrD,KAAKsD,mBAAmBF,GAI1C,IADA,IACA,MADuBzK,OAAOC,KAAKyK,GACnC,eAAuC,CAAlC,IACKtH,EAAesH,EADN,MAET3P,EAAeqI,EAAamE,cAE9BiC,EAAiBkB,EAAgB3P,GAChCyO,KACDA,EAAiB,IAAIpC,GACNqC,QAAQ1O,GACvByO,EAAeE,QAAQvR,GACvBqR,EAAeG,gBAAgBnR,IAKnCgR,EAAeK,QAAQL,EAAenH,MAAQe,EAAaf,OAC3DmH,EAAeM,UACXN,EAAejH,QAAUa,EAAab,SAG1CiH,EAAeO,6BACXP,EAAelG,2BACXF,EAAaE,4BAGrBkG,EAAeQ,YACXR,EAAehG,UAAYJ,EAAaI,WAE5CgG,EAAeS,0BACXT,EAAe3F,wBACXT,EAAaS,yBAGrB,IAAIqG,EAA6B,GAC7BC,EAA2BX,EAAelC,cAE9C,IAAK,IAAIxJ,KAAOsF,EAAakE,cAAe,CACxC,IAAMI,EAAetE,EAAakE,cAAcxJ,GAChDqM,EAAyBrM,GAAKpF,OAASgP,EAAahP,MACpDwR,EAA2BrM,KAAKsM,EAAyBrM,IAG7D0L,EAAeG,gBAAgBQ,GAC/BX,EAAeY,aAAaF,GAE5BV,EAAea,0BACXb,EAAetF,wBACXd,EAAac,yBAGrBwG,EAAgB3P,GAAgByO,EAKpC,OAAOkB,I,iDAIgBtK,GACvB,IAAIqK,EAAgB,GAChBG,EAA0B,GAyB9B,OAvBAxK,EAAgBzC,SAAQ,SAAAzD,GAEhB2Q,OAAOC,UAAUC,SAAS7Q,EAAS,UACnC2Q,OAAOC,UAAUC,SAAS7Q,EAAS,QACnCA,EAAS,WACT2Q,OAAOC,UAAUC,SAAS7Q,EAAS,UACnC2Q,OAAOC,UAAUC,SAAS7Q,EAAS,OACnC2Q,OAAOC,UAAUC,SAAS7Q,EAAS,MACnC2Q,OAAOC,UAAUC,SAAS7Q,EAAS,OACnC2Q,OAAOC,UAAUC,SAAS7Q,EAAS,WACnC2Q,OAAOC,UAAUC,SAAS7Q,EAAS,YAEnCuQ,EAAc5M,KAAK3D,GAEnB0Q,EAAwB/M,KAAK3D,MAIjC0Q,EAAwBtR,OAKrBmR,I,yCAIQA,GACf,IAAIC,EAAkB,GA8CtB,OA3CAD,EAAc9M,SAAQ,SAAAzD,GAClB,IAAMD,EAAaC,EAAS,SACtBa,EAAeb,EAAS,UAE1B8Q,EAAa,IAAI5D,EACrB4D,EAAWvB,QAAQxP,GACnB+Q,EAAWtB,QAAQvR,GACnB6S,EAAWnB,QAAQkB,SAAS7Q,EAAS,OACrC8Q,EAAWlB,UAAUiB,SAAS7Q,EAAS,SACvC8Q,EAAWC,gBAAgBlQ,GAC3BiQ,EAAWZ,aAAa,IACxBY,EAAWjB,6BACPgB,SAAS7Q,EAAS,SAEtB8Q,EAAWhB,YAAYe,SAAS7Q,EAAS,oBACzC8Q,EAAWf,0BAA0Bc,SAAS7Q,EAAS,MACvD8Q,EAAWpB,cAAcmB,SAAS7Q,EAAS,KAC3C8Q,EAAWX,0BAA0BU,SAAS7Q,EAAS,MAEvD,IAAIgR,EAA2B,GAC3BC,EAAyB,GAE7B/S,EAAqBuF,SAAQ,SAAA+J,GACzB,IAAI0D,EAAuB,CACvB/S,GAAIqP,EAAarP,GACjBK,MAAOqS,SAAS7Q,EAAUwN,EAAarP,KACvCuC,MAAO8M,EAAapP,KACpBA,KAAMoP,EAAapP,KACnBC,WAAYmP,EAAanP,YAG7B2S,EAAyBrN,KAAKuN,GAC9BD,EACIC,EAAqB/S,IACrB+S,KAGRJ,EAAWZ,aAAac,GACxBF,EAAWrB,gBAAgBwB,GAE3BT,EAAgBzQ,GAAc+Q,KAG3BN,I,gDAQeD,GACtB,IAAIC,EAAkB,GAClBtC,EAAsB,GA4D1B,OAzDAqC,EAAc9M,SAAQ,SAAAzD,GAClB,IAAMD,EAAaC,EAAS,SACtBa,EAAeb,EAAS,UACxBwG,EAAaqK,SAAS7Q,EAAS,IAEjC8Q,EAAa,IAAI5D,EACrB4D,EAAWvB,QAAQxP,GACnB+Q,EAAWtB,QAAQvR,GACnB6S,EAAWnB,QAAQkB,SAAS7Q,EAAS,OACrC8Q,EAAWlB,UAAUiB,SAAS7Q,EAAS,SACvC8Q,EAAWC,gBAAgBlQ,GAC3BiQ,EAAWZ,aAAa,IACxBY,EAAWjB,6BACPgB,SAAS7Q,EAAS,SAEtB8Q,EAAWhB,YAAYe,SAAS7Q,EAAS,oBACzC8Q,EAAWf,0BAA0Bc,SAAS7Q,EAAS,MACvD8Q,EAAWpB,cAAclJ,GACzBsK,EAAWX,0BAA0BU,SAAS7Q,EAAS,MACvD8Q,EAAWV,mBAAmBS,SAAS7Q,EAAS,UAChD8Q,EAAWT,qBAAqBQ,SAAS7Q,EAAS,YAElD,IAAIgR,EAA2B,GAC3BC,EAAyB,GAE7B/S,EAAqBuF,SAAQ,SAAA+J,GACzB,IAAI0D,EAAuB,CACvB/S,GAAIqP,EAAarP,GACjBK,MAAOqS,SAAS7Q,EAAUwN,EAAarP,KACvCuC,MAAO8M,EAAapP,KACpBA,KAAMoP,EAAapP,KACnBC,WAAYmP,EAAanP,YAG7B2S,EAAyBrN,KAAKuN,GAC9BD,EACIC,EAAqB/S,IACrB+S,KAGRJ,EAAWZ,aAAac,GACxBF,EAAWrB,gBAAgBwB,GAE3BT,EAAgBzQ,GAAc+Q,EAC9B,IAAIzB,EAA0BnB,EAAoB1H,GAC7C6I,IACDA,EAA0B,IAE9BA,EAAwBtP,GAAc+Q,EACtC5C,EAAoB1H,GAAc6I,KAQ/BnB,I,gDAUeA,EAAqBiD,EAAsBnD,GACjE,IAAIoD,EAAwB,GACxBC,EAAqB,GAgBzB,OAfAvL,OAAOC,KAAKiI,GAAkBvK,SAAQ,SAACG,IACR,IAAxBoK,EAAiBpK,IAChByN,EAAmB1N,KAAKC,MAGhCyN,EAAmB5N,SAAQ,SAAAC,GACnB0N,EAAsB1N,KAAO0N,EAAsB1N,GAAQ,IAChEyN,EAAqB1N,SAAQ,SAAA1D,GACzBqR,EAAsB1N,GAAMC,KAAKuK,EAAoBxK,GAAM3D,UAIlE0G,QAAQC,IAAI,yBACZD,QAAQC,IAAI0K,GAELA,M,GA7fGE,IAAMC,WCZJC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SD2H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,MAAK,SAAAC,GACjCA,EAAaC,kB","file":"static/js/main.906cb8ce.chunk.js","sourcesContent":["export const EntityType = {\n    SCHOOL: 0,\n    DISTRICT: 1\n};\n\nexport const EthnicityAcronymList = [\n    {\n        id: \"AA\",\n        desc: \"African American\",\n        chartColor: \"#f6d18a\"\n    },\n    {\n        id: \"AS\",\n        desc: \"Asian\",\n        chartColor: \"blue\"\n    },\n    {\n        id: \"HI\",\n        desc: \"Hispanic\",\n        chartColor: \"green\"\n    },\n    {\n        id: \"MR\",\n        desc: \"Multiracial\",\n        chartColor: \"yellow\"\n    },\n    {\n        id: \"NA\",\n        desc: \"NA\",\n        chartColor: \"pink\"\n    },\n    {\n        id: \"NH_PI\",\n        desc: \"Native Hawaiian and Pacific Islander\",\n        chartColor: \"red\"\n    },\n    {\n        id: \"WH\",\n        desc: \"White\",\n        chartColor: \"brown\"\n    }\n];\n\nexport const EthnicityDefaultMap = {\n    AA: {\n        id: \"AA\",\n        desc: \"African American\",\n        chartColor: \"#f6d18a\",\n        value: 0\n    },\n    AS: {\n        id: \"AS\",\n        desc: \"Asian\",\n        chartColor: \"blue\",\n        value: 0\n    },\n    HI: {\n        id: \"HI\",\n        desc: \"Hispanic\",\n        chartColor: \"green\",\n        value: 0\n    },\n    MR: {\n        id: \"MR\",\n        desc: \"Multiracial\",\n        chartColor: \"yellow\",\n        value: 0\n    },\n    NA: {\n        id: \"NA\",\n        desc: \"NA\",\n        chartColor: \"pink\",\n        value: 0\n    },\n    NH_PI: {\n        id: \"NH_PI\",\n        desc: \"Native Hawaiian and Pacific Islander\",\n        chartColor: \"red\",\n        value: 0\n    },\n    WH: {\n        id: \"WH\",\n        desc: \"White\",\n        chartColor: \"brown\",\n        value: 0\n    }\n};\n\n// export const YearList = [2016, 2017, 2018];\nexport const YearList = [2016];\n\nexport const CategoryChartPanelBackgroundColor =  \"#6f7348\";","import React from \"react\";\n// import Select from \"react-select\";\n\nimport Creatable from \"react-select/creatable\";\nimport { components } from \"react-select\";\n\nimport { EntityType } from \"../../Constants\";\n\nfunction SchoolDistrictFilter(props) {\n    const filteredSchools = filterSchooldata(props.data);\n\n    const schoolSet = getSchools(filteredSchools);\n    const districtSet = getDistricts(filteredSchools);\n    const schoolOptions = createSchoolOptions(schoolSet);\n    const districtOptions = createDistrictOptions(districtSet);\n    const allOptions = schoolOptions.concat(districtOptions);\n\n    const isValidNewOption = (inputValue, selectValue) =>\n        inputValue.length > 0 && selectValue.length < 5;\n\n    return (\n        <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n            <div style={{ padding: \"10px\" }}>\n                Select School / District to compare\n            </div>\n            <div style={{ color: \"black\" }}>\n                {/* <Select\n                    options={allOptions}\n                    defaultValue={allOptions.filter(\n                        option => option.label === \"Massachussets\"\n                    )}\n                    isMulti\n                    onChange={selectedOptions =>\n                        props.onOptionsChange(selectedOptions)\n                    }\n                /> */}\n\n                <Creatable\n                    components={{ Menu }}\n                    isValidNewOption={isValidNewOption}\n                    options={allOptions}\n                    defaultValue={allOptions.filter(\n                        option => option.label === \"Massachussets\"\n                    )}\n                    isMulti\n                    required\n                    onChange={(selectedOptions, actionMeta) =>\n                        props.onOptionsChange(selectedOptions, actionMeta)\n                    }\n                />\n            </div>\n        </div>\n    );\n}\n\nconst Menu = props => {\n    const optionSelectedLength = props.getValue().length || 0;\n    return (\n        <components.Menu {...props}>\n            {optionSelectedLength < 3 ? (\n                props.children\n            ) : (\n                <div style={{ margin: 15 }}>\n                    Cannot view more than 3 schools/districts\n                </div>\n            )}\n        </components.Menu>\n    );\n};\n\n// function App() {\n//     const isValidNewOption = (inputValue, selectValue) =>\n//         inputValue.length > 0 && selectValue.length < 5;\n//     return (\n//         <div className=\"App\">\n//             <Creatable\n//                 components={{ Menu }}\n//                 isMulti\n//                 isValidNewOption={isValidNewOption}\n//                 options={options}\n//             />\n//         </div>\n//     );\n// }\n\nfunction filterSchooldata(schoolData) {\n    return schoolData;\n}\n\nfunction getSchools(schoolData) {\n    let schools = new Set();\n    for (let schoolName in schoolData) {\n        const schoolRow = schoolData[schoolName];\n        if (schoolRow._type === EntityType.SCHOOL) {\n            schools.add(schoolRow._name);\n        }\n    }\n\n    return schools;\n}\n\nfunction createSchoolOptions(schoolSet) {\n    let optionList = [];\n    for (let schoolName of schoolSet) {\n        optionList = optionList.concat({\n            value: schoolName,\n            label: schoolName\n        });\n    }\n    return optionList;\n}\n\nfunction getDistricts(schoolData) {\n    let districtSet = new Set();\n    for (let schoolName in schoolData) {\n        const schoolRow = schoolData[schoolName];\n        if (schoolRow._type === EntityType.DISTRICT) {\n            districtSet.add(schoolRow._name);\n        }\n    }\n\n    return districtSet;\n}\n\nfunction createDistrictOptions(districtSet) {\n    let optionList = [];\n    for (let districtName of districtSet) {\n        optionList = optionList.concat({\n            value: districtName,\n            label: districtName\n        });\n    }\n    return optionList;\n}\n\nexport default SchoolDistrictFilter;\n","import React from \"react\";\n\nconst styles = {\n    checkbox: {\n        marginTop: \"5px\"\n    }\n};\n\nfunction PrimaryGraphChoose(props) {\n    // console.log(props);\n\n    return (\n        <div\n            style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                textAlign: \"left\"\n            }}\n        >\n            <div style={{ padding: \"10px\" }}>Select To View:</div>\n            <div>\n                <div style={styles.checkbox}>\n                    <input\n                        type=\"checkbox\"\n                        id=\"gender\"\n                        onChange={option =>\n                            optionChooseClicKHandler(props, option)\n                        }\n                        checked={props.selectedFilters.gender}\n                    />\n                    <label>Gender</label>\n                </div>\n                <div style={styles.checkbox}>\n                    <input\n                        type=\"checkbox\"\n                        id=\"ethnicity\"\n                        onChange={option =>\n                            optionChooseClicKHandler(props, option)\n                        }\n                        checked={props.selectedFilters.ethnicity}\n                    />\n                    <label>Ethnicity</label>\n                </div>\n\n                <div style={styles.checkbox}>\n                    <input\n                        type=\"checkbox\"\n                        id=\"economicallyDisadvantaged\"\n                        onChange={option =>\n                            optionChooseClicKHandler(props, option)\n                        }\n                        checked={\n                            props.selectedFilters.economicallyDisadvantaged\n                        }\n                    />\n                    <label>Economically Disadvantaged</label>\n                </div>\n\n                <div style={styles.checkbox}>\n                    <input\n                        type=\"checkbox\"\n                        id=\"disability\"\n                        onChange={option =>\n                            optionChooseClicKHandler(props, option)\n                        }\n                        checked={props.selectedFilters.disability}\n                    />\n                    <label>Students With Disability</label>\n                </div>\n\n                <div style={styles.checkbox}>\n                    <input\n                        type=\"checkbox\"\n                        id=\"englishLanguageLearner\"\n                        onChange={option =>\n                            optionChooseClicKHandler(props, option)\n                        }\n                        checked={props.selectedFilters.englishLanguageLearner}\n                    />\n                    <label>English Language Learners</label>\n                </div>\n\n                <div style={styles.checkbox}>\n                    <input\n                        type=\"checkbox\"\n                        id=\"courseEnrollment\"\n                        onChange={option =>\n                            optionChooseClicKHandler(props, option)\n                        }\n                        checked={props.selectedFilters.courseEnrollment}\n                    />\n                    <label>CS Course Enrollment</label>\n                </div>\n\n            </div>\n        </div>\n    );\n}\n\nexport default PrimaryGraphChoose;\n\nfunction optionChooseClicKHandler(props, option) {\n    const targetId = option.target.id;\n    const newTargetVal = option.target.checked;\n    const oldState = props.selectedFilters;\n\n    let newState = oldState;\n    newState[targetId] = newTargetVal;\n    props.onSelectionChange(newState);\n}\n","import React from \"react\";\nimport { YearList } from \"../../Constants\";\n\nconst styles = {\n    checkbox: {\n        marginTop: \"5px\"\n    }\n};\n\nfunction YearFilter(props) {\n    return (\n        <div\n            style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                textAlign: \"left\"\n            }}\n        >\n            <div style={{ padding: \"10px\" }}>Select Years to view</div>\n            <div>{getCheckBoxListForYears(YearList, props)}</div>\n        </div>\n    );\n}\n\nfunction getCheckBoxListForYears(yearList, props) {\n    let checkboxDivList = [];\n\n    yearList.forEach(year => {\n        checkboxDivList.push(\n            <div style={styles.checkbox} key={\"year-\" + year}>\n                <input\n                    type=\"checkbox\"\n                    id={year}\n                    onChange={option =>\n                        optionChooseClicKHandler(props, option)\n                    }\n                    checked={props.selectedYears[year]}\n                />\n                <label>{year}</label>\n            </div>\n        );\n    });\n\n    return checkboxDivList;\n}\n\nexport default YearFilter;\n\n\nfunction optionChooseClicKHandler(props, option) {\n    const targetId = option.target.id;\n    const newTargetVal = option.target.checked;\n    const oldState = props.selectedYears;\n\n    let newState = oldState;\n    newState[targetId] = newTargetVal;\n    props.onYearChange(newState);\n}","import React from \"react\";\nimport SchoolDistrictFilter from \"../Filters/SchoolDistrictFilter\";\nimport PrimaryGraphsChoose from \"../Filters/PrimaryGraphsChoose\";\nimport YearFilter from \"../Filters/YearFilter\";\n\n// defaultSchoolOptions =\n\nfunction FilterPanel(props) {\n    // console.log('panel recieved school data' + props.data);\n\n    return (\n        <div>\n            <h3 style={{ margin: \"10px 0 10px 0\" }}>\n                Select filters below to view a graph\n            </h3>\n            <div\n                className=\"filter-container\"\n                style={{ display: \"flex\", flexDirection: \"column\" }}\n            >\n                <div>\n                    <SchoolDistrictFilter\n                        data={props.data}\n                        onOptionsChange={(selectedOptions, actionMeta) =>\n                            props.onSchoolFilterChange(\n                                selectedOptions,\n                                actionMeta\n                            )\n                        }\n                    />\n                </div>\n                <div>\n                    <YearFilter\n                        selectedYears={props.selectedYears}\n                        onYearChange = {newYearSelection =>\n                            props.onYearSelectionChange(newYearSelection)\n                        }\n                    />\n                </div>\n                <div>\n                    <PrimaryGraphsChoose\n                        selectedFilters={props.selectedFilters}\n                        onSelectionChange={newSelection =>\n                            props.onGraphSelectionChange(newSelection)\n                        }\n                    />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default FilterPanel;\n","import React from \"react\";\nimport { ResponsivePie } from \"@nivo/pie\";\n// import School from \"../../School\";\n\n/**\n * Main class component\n * @param {*} props\n */\nfunction GenderChart(props) {\n    // const schoolDataArray = getGenderForSchool(\n    //     props.schoolData,\n    //     props.selectedSchoolOptions\n    // );\n\n    const yearToSchoolArrayDataMap = props.yearToSchoolArrayDataMap;\n    const dataYears = Object.keys(yearToSchoolArrayDataMap);\n\n    let allYearPieCharts = [];\n\n    dataYears.forEach(year => {\n        const thisYearSchoolDataArray = getGenderForSchool(yearToSchoolArrayDataMap[year]);\n        let thisYearPieCharts = getPieCharts(thisYearSchoolDataArray);\n\n            allYearPieCharts.push(\n            <div key={year} style={styles.yearChartsParent}>\n                <span>{year}</span>\n                {thisYearPieCharts}\n            </div>\n        )\n    });\n\n\n    return (\n        <div id=\"gender-pie-charts\"\n            style={styles.genderChartsParent}\n        >\n            <h3 key={\"gender-heading\"}>Gender</h3>\n            {allYearPieCharts}\n        </div>\n    );\n}\n\n\nfunction getGenderForSchool(schoolArrayForYear) {\n    let chartData = [];\n\n        schoolArrayForYear.forEach(schoolRow => {\n            const schoolName = schoolRow._name;\n            const schoolYear = schoolRow._schoolYear;\n            const maleCount = schoolRow._male;\n            const femaleCount = schoolRow._female;\n            const malePercentage = (\n                (maleCount / (maleCount + femaleCount)) *\n                100\n            ).toFixed(2);\n            const femalePercentage = (\n                (femaleCount / (maleCount + femaleCount)) *\n                100\n            ).toFixed(2);\n\n            let thisSchoolData = {};\n            let schoolDataArray = [\n                {\n                    id: \"male\",\n                    value: maleCount,\n                    percentage: malePercentage,\n                    color: \"orange\",\n                    label: \"Male\"\n                },\n                {\n                    id: \"female\",\n                    value: femaleCount,\n                    percentage: femalePercentage,\n                    color: \"blue\",\n                    label: \"Female\"\n                }\n            ];\n            thisSchoolData.schoolName = schoolName;\n            thisSchoolData.dataArray = schoolDataArray;\n            thisSchoolData.schoolYear = schoolYear;\n            chartData.push(thisSchoolData);\n        });\n\n    return chartData;\n}\n\n\nconst margin = { top: 30, right: 200, bottom: 30, left: 30 };\n\nconst styles = {\n    root: {\n        fontFamily: \"consolas, sans-serif\",\n        textAlign: \"center\",\n        position: \"relative\",\n        width: 250,\n        height: 300\n    },\n    overlay: {\n        position: \"absolute\",\n        top: 0,\n        right: margin.right,\n        bottom: 0,\n        left: margin.left,\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        fontSize: 30,\n        color: \"#FFFFFF\",\n        // background: \"#FFFFFF33\",\n        textAlign: \"center\",\n        // This is important to preserve the chart interactivity\n        pointerEvents: \"none\"\n    },\n    totalLabel: {\n        fontSize: 24\n    },\n    genderChartsParent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        // height: \"50%\",\n        width: \"100%\",borderStyle: \"ridge\",\n        padding: \"10px\",\n        backgroundColor: \"#4f4954\"\n\n    },\n    yearChartsParent: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n};\n\nfunction getPieCharts(schoolDataArray) {\n    const dataLength = schoolDataArray.length;\n    let pieCharts = [];\n\n    schoolDataArray.forEach((row, index) => {\n        const schoolName = row.schoolName;\n        const schoolData = row.dataArray;\n        const schoolYear = row.schoolYear;\n        console.log(\"school year: \" + schoolYear);\n\n        pieCharts.push(\n            <div key={schoolName} style={styles.root}>\n                <div style={{ height: \"90%\", flexGrow: \"1\" }}>\n                    <ResponsivePie\n                        key={schoolName}\n                        colors={d => d.color}\n                        isInteractive={true}\n                        data={schoolData}\n                        sortByValue={true}\n                        enableSlicesLabels={false}\n                        enableRadialLabels={false}\n                        margin={{ top: 40, right: 60, bottom: 40, left: 40 }}\n                        innerRadius={0.5}\n                        tooltip={data => {\n                            return getTooltipHTML(data);\n                        }}\n                        legends={\n                            index + 1 === dataLength\n                                ? [\n                                      {\n                                          anchor: \"top-right\",\n                                          direction: \"column\",\n                                          itemWidth: 20,\n                                          itemHeight: 20,\n                                          translateY: 20,\n                                          translateX: 20\n                                          // symbolSize: 18,\n                                          // symbolShape: \"circle\"\n                                      }\n                                  ]\n                                : undefined\n                        }\n                    />\n                    {/* <div style={styles.overlay}>\n                        <span>{schoolYear}</span>\n                    </div> */}\n                </div>\n                <div style={{ flexGrow: \"1\" }}>{schoolName}</div>\n            </div>\n        );\n    });\n\n    // if (pieCharts && pieCharts.length > 0) {\n    //     const heading = [];\n    //     heading.push(<h3 key={\"gender-heading\"}>Gender</h3>);\n    //     pieCharts = heading.concat(pieCharts);\n    // }\n\n    return pieCharts;\n}\n\nfunction getTooltipHTML(data) {\n    return (\n        <div\n            style={{ display: \"flex\", flexDirection: \"column\", color: \"black\" }}\n        >\n            <div>\n                {data.label}: {data.value}\n            </div>\n            <div>Percentage: {data.percentage}%</div>\n        </div>\n    );\n}\n\nexport default GenderChart;\n","import React from \"react\";\nimport { ResponsivePie } from \"@nivo/pie\";\n// import { EntityType, EthnicityAcronymList } from \"../../Constants\";\n\n/**\n * Main class component\n * @param {*} props\n */\nfunction EthnicityChart(props) {\n\n\n    const yearToSchoolArrayDataMap = props.yearToSchoolArrayDataMap;\n    const dataYears = Object.keys(yearToSchoolArrayDataMap);\n    let allYearPieCharts = [];\n\n    dataYears.forEach(year => {\n        const thisYearSchoolDataArray = getGroupedEthnicData(yearToSchoolArrayDataMap[year]);\n        let thisYearPieCharts = createPieCharts(thisYearSchoolDataArray);\n\n        allYearPieCharts.push(\n            <div key={year} style={styles.yearChartsParent}>\n                <span>{year}</span>\n                {thisYearPieCharts}\n            </div>\n        )\n    });\n\n    return (\n        <div id=\"ethnicity-pie-charts\"\n            style={styles.categoryChartsParent}\n        >\n            <h3 key=\"ethnicityHeading\">Ethnicity</h3>\n            {allYearPieCharts}\n        </div>\n    );\n}\n\n//\n// Helper Functions\n//\n\n/**\n * return array->[schoolName, array[schoolData]]\n * ignoring zero values\n */\nfunction getGroupedEthnicData(schoolArrayForYear) {\n    let chartData = [];\n    schoolArrayForYear.forEach(schoolObj => {\n        const schoolName = schoolObj._name;\n        let thisSchoolData = {};\n        let schoolDataArray = [];\n\n        schoolDataArray = schoolObj._ethnicity;\n\n        // get percentage calculation out of total students that we consider\n        let totalStudents = 0;\n        schoolDataArray.forEach(element => (totalStudents += element.value));\n        schoolDataArray.forEach(\n            element =>\n                (element.percentage = (\n                    (element.value / totalStudents) *\n                    100\n                ).toFixed(2))\n        );\n\n        thisSchoolData.schoolName = schoolName;\n        thisSchoolData.dataArray = schoolDataArray;\n        chartData.push(thisSchoolData);\n    });\n\n    return chartData;\n}\n\n\nconst styles = {\n    root: {\n        fontFamily: \"consolas, sans-serif\",\n        textAlign: \"center\",\n        position: \"relative\",\n        width: 250,\n        height: 300\n    },\n\n    totalLabel: {\n        fontSize: 24\n    },\n    categoryChartsParent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        // height: \"50%\",\n        width: \"100%\",\n        borderStyle: \"ridge\",\n        padding: \"10px\",\n        backgroundColor: \"#6f7348\"\n    },\n    yearChartsParent: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n};\n\nfunction createPieCharts(chartData) {\n    let pieCharts = [];\n    const dataLength = chartData.length;\n    chartData.forEach((row, index) => {\n        pieCharts.push(\n            <div key={row.schoolName} style={styles.root}>\n                <div style={{ height: \"90%\", flexGrow: \"1\" }}>\n                    <ResponsivePie\n                        key={row.schoolName}\n                        data={row.dataArray}\n                        margin={{ top: 40, right: 60, bottom: 40, left: 40 }}\n                        colors={d => d.chartColor}\n                        sortByValue={true}\n                        enableRadialLabels={false}\n                        enableSlicesLabels={false}\n                        innerRadius={0.5}\n                        tooltip={data => {\n                            return getTooltipHTML(data);\n                        }}\n                        legends={\n                            index + 1 === dataLength\n                                ? [\n                                      {\n                                          anchor: \"top-right\",\n                                          direction: \"column\",\n                                          itemWidth: 20,\n                                          itemHeight: 20,\n                                          translateY: 20,\n                                          translateX: 30\n                                          // symbolSize: 18,\n                                          // symbolShape: \"circle\"\n                                      }\n                                  ]\n                                : undefined\n                        }\n                    />\n                </div>\n                <div style={{ flexGrow: \"1\" }}>{row.schoolName}</div>\n            </div>\n        );\n    });\n\n    // if (pieCharts && pieCharts.length > 0) {\n    //     const heading = [];\n    //     heading.push(<h3 key=\"ethnicityHeading\">Ethnicity</h3>);\n    //     pieCharts = heading.concat(pieCharts);\n    // }\n\n    return pieCharts;\n}\n\nexport default EthnicityChart;\n\nfunction getTooltipHTML(data) {\n    return (\n        <div\n            id={data.id}\n            style={{ display: \"flex\", flexDirection: \"column\", color: \"black\" }}\n        >\n            <div>\n                {data.desc}: {data.value}\n            </div>\n            <div>Percentage: {data.percentage}%</div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { ResponsivePie } from \"@nivo/pie\";\n// import School from \"../../School\";\n\n/**\n * Main class component\n * @param {*} props\n */\nfunction EconDisChart(props) {\n\n    const yearToSchoolArrayDataMap = props.yearToSchoolArrayDataMap;\n    const dataYears = Object.keys(yearToSchoolArrayDataMap);\n    let allYearPieCharts = [];\n\n    dataYears.forEach(year => {\n        const thisYearSchoolDataArray = getEconDisForSchool(yearToSchoolArrayDataMap[year]);\n        let thisYearPieCharts = getPieCharts(thisYearSchoolDataArray);\n\n        allYearPieCharts.push(\n            <div key={year} style={styles.yearChartsParent}>\n                <span>{year}</span>\n                {thisYearPieCharts}\n            </div>\n        )\n    });\n\n\n\n    // const schoolDataArray = getEconDisForSchool(\n    //     props.schoolData,\n    //     props.options\n    // );\n    //\n    // let pieCharts = getPieCharts(schoolDataArray);\n\n    return (\n        <div id=\"econdis-pie-charts\"\n             style={styles.categoryChartsParent}\n        >\n            <h3 key=\"econdisHeading\">Economically Disadvantaged</h3>\n            {allYearPieCharts}\n        </div>\n    );\n}\n\n/**\n * return array: x->schoolName, male, female\n */\nfunction getEconDisForSchool(schoolArrayForYear) {\n    let chartData = [];\n    schoolArrayForYear.forEach(schoolObject => {\n        const schoolName = schoolObject._name;\n        const disadvantagedCount = schoolObject._economicallyDisadvantaged;\n        const totalCount = schoolObject._enrolled;\n        const nonDisadvantagedCount = totalCount - disadvantagedCount;\n\n        const disadvantagedPercentage = (\n            (disadvantagedCount / totalCount) *\n            100\n        ).toFixed(2);\n        const nonDisadvantagedPercentage = (\n            (nonDisadvantagedCount / totalCount) *\n            100\n        ).toFixed(2);\n\n        let thisSchoolData = {};\n        let schoolDataArray = [\n            {\n                id: \"Disadvantaged\",\n                value: disadvantagedCount,\n                percentage: disadvantagedPercentage,\n                color: \"orange\",\n                label: \"Economically Disadvantaged\"\n            },\n            {\n                id: \"Others\",\n                value: nonDisadvantagedCount,\n                percentage: nonDisadvantagedPercentage,\n                color: \"blue\",\n                label: \"Others\"\n            }\n        ];\n        thisSchoolData.schoolName = schoolName;\n        thisSchoolData.dataArray = schoolDataArray;\n        chartData.push(thisSchoolData);\n    });\n\n    // console.log(\"econ dis chart\");\n    // console.log(chartData);\n    return chartData;\n}\n\n// const pieChartParentDivStyle = {\n//     height: \"300px\",\n//     width: \"25%\",\n//     minWidth: \"250px\",\n//     flexGrow: \"1\",\n//     display: \"flex\",\n//     flexDirection: \"column\"\n// };\n\nconst styles = {\n    root: {\n        fontFamily: \"consolas, sans-serif\",\n        textAlign: \"center\",\n        position: \"relative\",\n        width: 250,\n        height: 300\n    },\n\n    totalLabel: {\n        fontSize: 24\n    },\n    categoryChartsParent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        // height: \"50%\",\n        width: \"100%\",\n        borderStyle: \"ridge\",\n        padding: \"10px\",\n        backgroundColor: \"#4f4954\"\n    },\n    yearChartsParent: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n};\n\nfunction getPieCharts(schoolDataArray) {\n    const dataLength = schoolDataArray.length;\n    let pieCharts = [];\n\n    schoolDataArray.forEach((row, index) => {\n        const schoolName = row.schoolName;\n        const schoolData = row.dataArray;\n        pieCharts.push(\n            <div key={schoolName} style={styles.root}>\n                <div style={{ height: \"90%\", flexGrow: \"1\" }}>\n                    <ResponsivePie\n                        key={schoolName}\n                        colors={d => d.color}\n                        isInteractive={true}\n                        data={schoolData}\n                        sortByValue={true}\n                        enableSlicesLabels={false}\n                        enableRadialLabels={false}\n                        margin={{ top: 40, right: 40, bottom: 60, left: 40 }}\n                        innerRadius={0.5}\n                        tooltip={data => {\n                            return getTooltipHTML(data);\n                        }}\n                        legends={\n                            index + 1 === dataLength\n                                ? [\n                                      {\n                                          anchor: \"bottom\",\n                                          direction: \"row\",\n                                          itemWidth: 120,\n                                          itemHeight: 20,\n                                          translateY: 30,\n                                          translateX: 10\n                                      }\n                                  ]\n                                : undefined\n                        }\n                    />\n                </div>\n                <div style={{ flexGrow: \"1\" }}>{schoolName}</div>\n            </div>\n        );\n    });\n\n    // if (pieCharts && pieCharts.length > 0) {\n    //     const heading = [];\n    //     heading.push(\n    //         // <h3 key={\"econdis-heading\"}>Economically Disadvantaged</h3>\n    //         <h3 key={\"econdis-heading\"}>EconDis</h3>\n    //     );\n    //     pieCharts = heading.concat(pieCharts);\n    // }\n\n    return pieCharts;\n}\n\nfunction getTooltipHTML(data) {\n    return (\n        <div\n            style={{ display: \"flex\", flexDirection: \"column\", color: \"black\" }}\n        >\n            <div>\n                {data.label}: {data.value}\n            </div>\n            <div>Percentage: {data.percentage}%</div>\n        </div>\n    );\n}\n\nexport default EconDisChart;\n","import React from \"react\";\nimport { ResponsivePie } from \"@nivo/pie\";\n// import School from \"../../School\";\n\n/**\n * Main class component\n * @param {*} props\n */\nfunction DisabilityChart(props) {\n\n    const yearToSchoolArrayDataMap = props.yearToSchoolArrayDataMap;\n    const dataYears = Object.keys(yearToSchoolArrayDataMap);\n    let allYearPieCharts = [];\n\n    dataYears.forEach(year => {\n        const thisYearSchoolDataArray = getDisabilityData(yearToSchoolArrayDataMap[year]);\n        let thisYearPieCharts = getPieCharts(thisYearSchoolDataArray);\n\n        allYearPieCharts.push(\n            <div key={year} style={styles.yearChartsParent}>\n                <span>{year}</span>\n                {thisYearPieCharts}\n            </div>\n        )\n    });\n\n    return (\n        <div id=\"disability-pie-charts\"\n             style={styles.categoryChartsParent}\n        >\n            <h3 key=\"disabilityHeading\">Students With Disability</h3>\n            {allYearPieCharts}\n        </div>\n    );\n\n}\n\n/**\n * return array: x->schoolName, male, female\n */\nfunction getDisabilityData(schoolArrayForYear) {\n    let chartData = [];\n    schoolArrayForYear.forEach(schoolObject => {\n        const schoolName = schoolObject._name;\n        const disabilityCount = schoolObject._studentsWithDisability;\n        const totalCount = schoolObject._enrolled;\n        const nonDisabilityCount = totalCount - disabilityCount;\n\n        const disabilityPercentage = (\n            (disabilityCount / totalCount) *\n            100\n        ).toFixed(2);\n        const nonDisabilityPercentage = (\n            (nonDisabilityCount / totalCount) *\n            100\n        ).toFixed(2);\n\n        let thisSchoolData = {};\n        let schoolDataArray = [\n            {\n                // id: \"Students With Disability\",\n                id: \"SWD\",\n                value: disabilityCount,\n                percentage: disabilityPercentage,\n                color: \"orange\",\n                label: \"Students With Disability\"\n            },\n            {\n                id: \"Others\",\n                value: nonDisabilityCount,\n                percentage: nonDisabilityPercentage,\n                color: \"blue\",\n                label: \"Others\"\n            }\n        ];\n        thisSchoolData.schoolName = schoolName;\n        thisSchoolData.dataArray = schoolDataArray;\n        chartData.push(thisSchoolData);\n    });\n\n    // console.log(\"disability chart\");\n    // console.log(chartData);\n    return chartData;\n}\n\n\nconst styles = {\n    root: {\n        fontFamily: \"consolas, sans-serif\",\n        textAlign: \"center\",\n        position: \"relative\",\n        width: 250,\n        height: 300\n    },\n\n    totalLabel: {\n        fontSize: 24\n    },\n    categoryChartsParent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        // height: \"50%\",\n        width: \"100%\",\n        borderStyle: \"ridge\",\n        padding: \"10px\",\n        backgroundColor: \"#6f7348\"\n    },\n    yearChartsParent: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n};\n\nfunction getPieCharts(schoolDataArray) {\n    const dataLength = schoolDataArray.length;\n    let pieCharts = [];\n\n    schoolDataArray.forEach((row, index) => {\n        const schoolName = row.schoolName;\n        const schoolData = row.dataArray;\n        pieCharts.push(\n            <div key={schoolName} style={styles.root}>\n                <div style={{ height: \"90%\", flexGrow: \"1\" }}>\n                    <ResponsivePie\n                        key={schoolName}\n                        colors={d => d.color}\n                        isInteractive={true}\n                        data={schoolData}\n                        sortByValue={true}\n                        enableSlicesLabels={false}\n                        enableRadialLabels={false}\n                        innerRadius={0.5}\n                        margin={{ top: 40, right: 60, bottom: 40, left: 40 }}\n                        tooltip={data => {\n                            return getTooltipHTML(data);\n                        }}\n                        legends={\n                            index + 1 === dataLength\n                                ? [\n                                      {\n                                          anchor: \"top-right\",\n                                          direction: \"column\",\n                                          itemWidth: 20,\n                                          itemHeight: 20,\n                                          translateY: 20,\n                                          translateX: 20\n                                          // symbolSize: 18,\n                                          // symbolShape: \"circle\"\n                                      }\n                                  ]\n                                : undefined\n                        }\n                    />\n                </div>\n                <div style={{ flexGrow: \"1\" }}>{schoolName}</div>\n            </div>\n        );\n    });\n\n    // if (pieCharts && pieCharts.length > 0) {\n    //     const heading = [];\n    //     heading.push(\n    //         <div key={\"disability-heading\"}>\n    //             {/* <h3>Students With Disability</h3> */}\n    //             <h3>Disability</h3>\n    //         </div>\n    //     );\n    //     pieCharts = heading.concat(pieCharts);\n    // }\n\n    return pieCharts;\n}\n\nfunction getTooltipHTML(data) {\n    return (\n        <div\n            style={{ display: \"flex\", flexDirection: \"column\", color: \"black\" }}\n        >\n            <div>\n                {data.label}: {data.value}\n            </div>\n            <div>Percentage: {data.percentage}%</div>\n        </div>\n    );\n}\n\nexport default DisabilityChart;\n","/**\n * English Language Learners\n */\n\nimport React from \"react\";\nimport { ResponsivePie } from \"@nivo/pie\";\nimport {CategoryChartPanelBackgroundColor} from \"../../Constants\"\n\n/**\n * Main class component\n * @param {*} props\n */\nfunction ELLChart(props) {\n\n    const yearToSchoolArrayDataMap = props.yearToSchoolArrayDataMap;\n    const dataYears = Object.keys(yearToSchoolArrayDataMap);\n    let allYearPieCharts = [];\n\n    dataYears.forEach(year => {\n        const thisYearSchoolDataArray = getLanguageLearnerData(yearToSchoolArrayDataMap[year]);\n        let thisYearPieCharts = getPieCharts(thisYearSchoolDataArray);\n\n        allYearPieCharts.push(\n            <div key={year} style={styles.yearChartsParent}>\n                <span>{year}</span>\n                {thisYearPieCharts}\n            </div>\n        )\n    });\n\n    return (\n        <div id=\"ell-pie-charts\"\n             style={styles.categoryChartsParent}\n        >\n            <h3 key=\"ellHeading\">English Language Learners</h3>\n            {allYearPieCharts}\n        </div>\n    );\n\n\n}\n\n/**\n * return array: x->schoolName, male, female\n */\nfunction getLanguageLearnerData(schoolArrayForYear) {\n    let chartData = [];\n    schoolArrayForYear.forEach(schoolObject => {\n        const schoolName = schoolObject._name;\n        const languageLearnerCount = schoolObject._englishLanguageLearner;\n        const totalCount = schoolObject._enrolled;\n        const otherCount = totalCount - languageLearnerCount;\n\n        const learnerPercentage = (\n            (languageLearnerCount / totalCount) *\n            100\n        ).toFixed(2);\n        const otherPercentage = ((otherCount / totalCount) * 100).toFixed(2);\n\n        let thisSchoolData = {};\n        let schoolDataArray = [\n            {\n                // id: \"Students With Disability\",\n                id: \"ELL\",\n                value: languageLearnerCount,\n                percentage: learnerPercentage,\n                color: \"orange\",\n                label: \"English Language Learner\"\n            },\n            {\n                id: \"Others\",\n                value: otherCount,\n                percentage: otherPercentage,\n                color: \"blue\",\n                label: \"Others\"\n            }\n        ];\n        thisSchoolData.schoolName = schoolName;\n        thisSchoolData.dataArray = schoolDataArray;\n        chartData.push(thisSchoolData);\n    });\n\n    return chartData;\n}\n\nconst styles = {\n    root: {\n        fontFamily: \"consolas, sans-serif\",\n        textAlign: \"center\",\n        position: \"relative\",\n        width: 250,\n        height: 300\n    },\n\n    totalLabel: {\n        fontSize: 24\n    },\n    categoryChartsParent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        // height: \"50%\",\n        width: \"100%\",\n        borderStyle: \"ridge\",\n        padding: \"10px\",\n        backgroundColor: CategoryChartPanelBackgroundColor\n    },\n    yearChartsParent: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n};\n\nfunction getPieCharts(schoolDataArray) {\n    const dataLength = schoolDataArray.length;\n    let pieCharts = [];\n\n    schoolDataArray.forEach((row, index) => {\n        const schoolName = row.schoolName;\n        const schoolData = row.dataArray;\n        pieCharts.push(\n            <div key={schoolName} style={styles.root}>\n                <div style={{ height: \"90%\", flexGrow: \"1\" }}>\n                    <ResponsivePie\n                        key={schoolName}\n                        colors={d => d.color}\n                        isInteractive={true}\n                        data={schoolData}\n                        sortByValue={true}\n                        enableSlicesLabels={false}\n                        enableRadialLabels={false}\n                        innerRadius={0.5}\n                        margin={{ top: 40, right: 60, bottom: 40, left: 40 }}\n                        tooltip={data => {\n                            return getTooltipHTML(data);\n                        }}\n                        legends={\n                            index + 1 === dataLength\n                                ? [\n                                      {\n                                          anchor: \"bottom\",\n                                          direction: \"row\",\n                                          itemWidth: 120,\n                                          itemHeight: 20,\n                                          translateY: 30,\n                                          translateX: 10\n                                      }\n                                  ]\n                                : undefined\n                        }\n                    />\n                </div>\n                <div style={{ flexGrow: \"1\" }}>{schoolName}</div>\n            </div>\n        );\n    });\n\n    return pieCharts;\n}\n\nfunction getTooltipHTML(data) {\n    return (\n        <div\n            style={{ display: \"flex\", flexDirection: \"column\", color: \"black\" }}\n        >\n            <div>\n                {data.label}: {data.value}\n            </div>\n            <div>Percentage: {data.percentage}%</div>\n        </div>\n    );\n}\n\nexport default ELLChart;\n","/**\n * CS Course Enrollment\n */\n\nimport React from \"react\";\n// import { ResponsivePie } from \"@nivo/pie\";\nimport { ResponsiveBar } from \"@nivo/bar\";\nimport {CategoryChartPanelBackgroundColor} from \"../../Constants\"\n\n/**\n * Main class component\n * @param {*} props\n */\nfunction CourseEnrollmentChart(props) {\n\n    const yearToSchoolArrayDataMap = props.yearToSchoolArrayDataMap;\n    const dataYears = Object.keys(yearToSchoolArrayDataMap);\n    let allYearPieCharts = [];\n\n    dataYears.forEach(year => {\n        // const thisYearSchoolDataArray = getCourseEnrollmentData(yearToSchoolArrayDataMap[year]);\n        const thisYearSchoolDataArray = getCourseEnrollmentDataNew(yearToSchoolArrayDataMap[year]);\n\n        let maxEnrolledCount = 0;\n        // thisYearSchoolDataArray.forEach(school => {\n        //     const dataArray = school.dataArray;\n        //     dataArray.forEach(element => {\n        //         if(element.value > maxEnrolledCount) {\n        //             maxEnrolledCount = element.value;\n        //         }\n        //     });\n        // });\n\n        let thisYearPieCharts = getBarCharts(thisYearSchoolDataArray, maxEnrolledCount);\n\n        allYearPieCharts.push(\n            <div key={year} style={styles.yearChartsParent}>\n                <span>{year}</span>\n                {thisYearPieCharts}\n            </div>\n        )\n    });\n\n    return (\n        <div id=\"courseEnrollment-pie-charts\"\n             style={styles.categoryChartsParent}\n        >\n            <h3 key=\"courseEnrollmentHeading\">CS Course Enrollment</h3>\n            {allYearPieCharts}\n        </div>\n    );\n\n\n}\n\n\n\nfunction getCourseEnrollmentDataNew(schoolArrayForYear) {\n    let chartData = [];\n    schoolArrayForYear.forEach(schoolObject => {\n        const schoolName = schoolObject._name;\n        const primaryEnrolledCount = schoolObject._primaryEnrolled;\n        const secondaryEnrolledCount = schoolObject._secondaryEnrolled;\n        const totalCount = primaryEnrolledCount + secondaryEnrolledCount;\n\n        const primaryEnrolledPercentage = (\n            (primaryEnrolledCount / totalCount) *\n            100\n        ).toFixed(2);\n        const secondaryEnrolledPercentage = ((secondaryEnrolledCount / totalCount) * 100).toFixed(2);\n\n        // let thisSchoolData = {};\n        let schoolDataObject = {\n                id: schoolName,\n                \"Primary\": primaryEnrolledCount,\n                // value: primaryEnrolledCount,\n                primaryPercentage: primaryEnrolledPercentage,\n                // color: \"orange\",\n                primaryLabel: \"Enrolled prior to Secondary Level\",\n                \"Secondary\": secondaryEnrolledCount,\n                secondaryPercentage: secondaryEnrolledPercentage,\n                // color: \"blue\",\n                secondaryLabel: \"Enrolled at Secondary Level\"\n        };\n\n        // thisSchoolData.schoolName = schoolName;\n        // thisSchoolData.dataArray = schoolDataArray;\n        chartData.push(schoolDataObject);\n    });\n\n    console.log(\"chartData\");\n    console.log(chartData);\n\n    return chartData;\n}\n\nconst styles = {\n    root: {\n        fontFamily: \"consolas, sans-serif\",\n        textAlign: \"center\",\n        position: \"relative\",\n        width: \"100%\",\n        height: 300\n    },\n\n    totalLabel: {\n        fontSize: 24\n    },\n    categoryChartsParent: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        // height: \"50%\",\n        width: \"100%\",\n        borderStyle: \"ridge\",\n        padding: \"10px\",\n        backgroundColor: CategoryChartPanelBackgroundColor\n    },\n    yearChartsParent: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    }\n};\n\nfunction getBarCharts(schoolDataArray, maxEnrolledCount) {\n    const dataLength = schoolDataArray.length;\n    let pieCharts = [];\n\n    // schoolDataArray.forEach((row, index) => {\n        // const schoolName = row.schoolName;\n        // const schoolData = row.dataArray;\n        const schoolData = schoolDataArray;\n        // const schoolName = row.id;\n\n        console.log(\"bar chart data here\");\n        console.log(schoolData);\n\n        pieCharts.push(\n            <div\n                // key={schoolName}\n                style={styles.root}>\n                <div style={{ height: \"90%\", flexGrow: \"1\",\n                    width: \"100%\"\n                }}>\n                    <ResponsiveBar\n                        data={schoolData}\n                        keys={[ 'Primary', 'Secondary']}\n                        margin={{ top: 50, right: 130, bottom: 50, left: 60 }}\n                        padding={0.2}\n                        groupMode=\"grouped\"\n                        colors={{ scheme: 'nivo' }}\n                        minValue={0}\n                        // maxValue={maxEnrolledCount}\n                        tooltip={data => {\n                            return getTooltipHTML(data);\n                        }}\n                        defs={[\n                            {\n                                id: 'dots',\n                                type: 'patternDots',\n                                background: 'inherit',\n                                color: '#38bcb2',\n                                size: 4,\n                                padding: 1,\n                                stagger: true\n                            },\n                            {\n                                id: 'lines',\n                                type: 'patternLines',\n                                background: 'inherit',\n                                color: '#eed312',\n                                rotation: -45,\n                                lineWidth: 6,\n                                spacing: 10\n                            }\n                        ]}\n                        // fill={[\n                        //     {\n                        //         match: {\n                        //             id: 'fries'\n                        //         },\n                        //         id: 'dots'\n                        //     },\n                        //     {\n                        //         match: {\n                        //             id: 'sandwich'\n                        //         },\n                        //         id: 'lines'\n                        //     }\n                        // ]}\n                        borderColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}\n                        // axisBottom={{\n                        //     tickSize: 5,\n                        //     tickPadding: 5,\n                        //     tickRotation: 0,\n                        //     legend: 'country',\n                        //     legendPosition: 'middle',\n                        //     legendOffset: 32\n                        // }}\n                        // axisLeft={{\n                        //     tickSize: 5,\n                        //     tickPadding: 5,\n                        //     tickRotation: 0,\n                        //     legend: 'Students Enrolled',\n                        //     legendPosition: 'middle',\n                        //     legendOffset: -40\n                        // }}\n                        // labelSkipWidth={12}\n                        // labelSkipHeight={12}\n                        // labelTextColor={{ from: 'color', modifiers: [ [ 'darker', 1.6 ] ] }}\n                        legends={[\n                            {\n                                dataFrom: 'keys',\n                                anchor: 'bottom-right',\n                                direction: 'column',\n                                justify: false,\n                                translateX: 120,\n                                translateY: 0,\n                                itemsSpacing: 2,\n                                itemWidth: 100,\n                                itemHeight: 20,\n                                itemDirection: 'left-to-right',\n                                itemOpacity: 0.85,\n                                symbolSize: 20,\n                                effects: [\n                                    {\n                                        on: 'hover',\n                                        style: {\n                                            itemOpacity: 1\n                                        }\n                                    }\n                                ]\n                            }\n                        ]}\n                        animate={true}\n                        motionStiffness={90}\n                        motionDamping={15}\n                    />\n                </div>\n                {/*<div style={{ flexGrow: \"1\" }}>{schoolName}</div>*/}\n            </div>\n        );\n    // });\n\n    return pieCharts;\n}\n\nfunction getTooltipHTML(data) {\n\n    console.log(\"tooltip\");\n    console.log(data);\n\n\n    const barData = data.data;\n    const typeOfBar = data.id;\n    let label = \"\";\n    let percentage = \"\";\n\n    if(typeOfBar === \"Primary\") {\n        label = barData.primaryLabel;\n        percentage = barData.primaryPercentage;\n    }\n    else {\n        label = barData.secondaryLabel;\n        percentage = barData.secondaryPercentage;\n    }\n\n    return (\n        <div\n            style={{ display: \"flex\", flexDirection: \"column\", color: \"black\" }}\n        >\n            <div>\n                {label}: {barData.value}\n            </div>\n            <div>Percentage: {percentage}%</div>\n        </div>\n    );\n}\n\nexport default CourseEnrollmentChart;\n","import React from \"react\";\n\nfunction NextStepsPanel() {\n    const styles = {\n        action: {\n            margin: \"10px\",\n            width: \"50%\",\n            borderStyle: \"ridge\",\n            borderWidth: \"2px\",\n            padding: \"10px\"\n        },\n        row: {\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            margin: \"10px\",\n            width: \"70%\"\n        },\n\n        header: {\n            height: \"30%\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            display: \"flex\",\n            fontSize: \"xx-large\"\n        },\n        learn: {\n            height: \"30%\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            display: \"flex\",\n            fontSize: \"22px\",\n            width: \"100%\"\n        },\n        footer: {\n            display: \"flex\",\n            flexDirection: \"row-reverse\",\n            backgroundColor: \"#674063\",\n            height: \"10%\",\n            alignItems: \"center\",\n            fontSize: \"20px\"\n        }\n    };\n\n    return (\n        <div\n            className=\"App\"\n            style={{\n                display: \"flex\",\n                minHeight: \"90vh\",\n                flexDirection: \"column\",\n                backgroundColor: \"#d24242\",\n                width: \"100%\"\n            }}\n        >\n            <div style={styles.header}>\n                <h2 className=\"next-steps-panel\">Next Steps</h2>\n            </div>\n            <div\n                style={{\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    alignItems: \"center\",\n                    fontSize: \"x-large\",\n                    height: \"30%\"\n                }}\n            >\n                <div style={styles.row}>\n                    <div style={styles.action}>\n                        Closing the Digital Equity Gap\n                    </div>\n                    <div style={styles.action}>The Digital Equity Walk</div>\n                </div>\n                <div style={styles.row}>\n                    <div style={styles.action}>The Walk in Action</div>\n                    <div style={styles.action}>Take the Virtual Walk</div>\n                </div>\n            </div>\n            <div style={styles.learn}>\n                <span style={{ width: \"60%\" }}>\n                    Want to learn more about the Digital Equity Walk or about\n                    opportunities to host a walk? Visit the Digital Equity Walk\n                    in Action or contact Jackney Prioly Joseph.\n                </span>\n            </div>\n            <div style={styles.footer}>\n                <span style={{ marginRight: \"20px\" }}>Contact Info</span>\n            </div>\n        </div>\n    );\n}\n\nexport default NextStepsPanel;\n","import { EntityType } from \"./Constants\";\n\nclass School {\n    constructor() {\n        this._male = 0;\n        this._female = 0;\n        this._ethnicity = [];\n        this._ethnicityMap = {};\n        this._districtName = \"\";\n        this._type = 0;\n        this._name = \"\";\n        this._economicallyDisadvantaged = 0;\n        this._enrolled = 0;\n        this._testTakers = 0;\n        this._studentsWithDisability = 0;\n        this._schoolYear = 2016;\n        this._englishLanguageLearner = 0;\n        this._primaryEnrolled = 0;\n        this._secondaryEnrolled = 0;\n    }\n\n    setType(entityType) {\n        if (entityType === EntityType.SCHOOL || EntityType.DISTRICT) {\n            this._type = entityType;\n        } else {\n            this._type = EntityType.SCHOOL;\n            console.log(\"error setting entity\");\n        }\n    }\n\n    setMale(maleCount) {\n        // add error check\n        this._male = maleCount;\n    }\n\n    setFemale(femaleCount) {\n        // add error check\n        this._female = femaleCount;\n    }\n\n    setEthnicity(ethnicityObj) {\n        // add error check\n        this._ethnicity = ethnicityObj;\n    }\n\n    setEthnicityMap(ethnicityMap) {\n        // add error check\n        this._ethnicityMap = ethnicityMap;\n    }\n\n    setDistrictName(districtName) {\n        // add error check\n        this._districtName = districtName;\n    }\n\n    setName(name) {\n        this._name = name;\n    }\n\n    setEconomicallyDisadvantaged(count) {\n        this._economicallyDisadvantaged = count;\n    }\n\n    setEnrolled(count) {\n        this._enrolled = count;\n    }\n\n    setTestTakers(count) {\n        this._testTakers = count;\n    }\n\n    setStudentsWithDisability(count) {\n        this._studentsWithDisability = count;\n    }\n\n    setSchoolYear(year) {\n        this._schoolYear = year;\n    }\n\n    setEnglishLanguageLearner(count) {\n        this._englishLanguageLearner = count;\n    }\n\n\n    setPrimaryEnrolled(value) {\n        this._primaryEnrolled = value;\n    }\n\n    setSecondaryEnrolled(value) {\n        this._secondaryEnrolled = value;\n    }\n}\n\nexport default School;\n","/*eslint-env es6*/\n// \"use strict\";\n\nimport React from \"react\";\nimport \"./App.css\";\nimport FilterPanel from \"./components/FilterPanel/FilterPanel\";\nimport GenderChart from \"./components/Charts/GenderChart\";\nimport EthnicityChart from \"./components/Charts/EthnicityChart\";\nimport EconDisChart from \"./components/Charts/EconDisChart\";\nimport DisabilityChart from \"./components/Charts/DisabilityChart\";\nimport ELLChart from \"./components/Charts/ELLChart\";\nimport CourseEnrollmentChart from \"./components/Charts/CourseEnrollment\"\nimport NextStepsPanel from \"./components/NextStepsPanel\";\n\nimport schoolData from \"./data/data-new\";\n\nimport {\n    EntityType,\n    EthnicityAcronymList,\n    EthnicityDefaultMap,\n    YearList\n} from \"./Constants\";\nimport School from \"./School\";\n\nclass App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.graphSelectionChangeHandler = this.graphSelectionChangeHandler.bind(\n            this\n        );\n        this.yearSelectionChangeHandler = this.yearSelectionChangeHandler.bind(this);\n\n        let selectedYearsMap = {};\n        YearList.forEach(year => {\n            selectedYearsMap[year] = false;\n        });\n        selectedYearsMap[YearList[YearList.length - 1]] = true;\n        const selectedSchools = [\"Massachussets\"];\n        const yearSchoolObjectMap = this.transformSchoolData(\n            schoolData,\n            selectedSchools,\n            selectedYearsMap\n        );\n\n        this.state = {\n            newSchoolData: yearSchoolObjectMap,\n            schoolData: this.extractSchoolData(schoolData),\n            // filteredData: this.filterSchoolData(\n            //     this.extractSchoolData(schoolData)\n            // ),\n            schoolOptions: selectedSchools,\n            selectedFilters: {\n                gender: false,\n                ethnicity: false,\n                economicallyDisadvantaged: false,\n                disability: false,\n                englishLanguageLearner: false,\n                courseEnrollment: true\n            },\n            selectedYearsMap: selectedYearsMap,\n            filteredSchoolData: this.filterYearSchoolObjectMap(yearSchoolObjectMap, selectedSchools, selectedYearsMap)\n        };\n\n    }\n\n    render() {\n        const charts = this.createChartsFromFilterState();\n\n        return (\n            <div\n                className=\"App\"\n                style={{ display: \"flex\", flexDirection: \"column\" }}\n            >\n                <div style={{ height: \"10%\" }}>\n                    <h3> Digital Equity </h3>\n                </div>\n                <div className=\"App\" style={{ display: \"flex\" }}>\n                    <div\n                        className=\"filter-panel\"\n                        style={{ backgroundColor: \"darkgreen\" }}\n                    >\n                        <FilterPanel\n                            data={this.state.schoolData}\n                            selectedFilters={this.state.selectedFilters}\n                            selectedYears={this.state.selectedYearsMap}\n                            onSchoolFilterChange={(opts, actionMeta) =>\n                                this.schoolFilterChangeHandler(opts, actionMeta)\n                            }\n                            onGraphSelectionChange={\n                                this.graphSelectionChangeHandler\n                            }\n                            onYearSelectionChange={this.yearSelectionChangeHandler}\n                        />\n                    </div>\n                    <div className=\"chart-panel\">{charts}</div>\n                </div>\n                <NextStepsPanel />\n            </div>\n        );\n    }\n\n    createChartsFromFilterState() {\n        const selectedFilters = this.state.selectedFilters;\n\n        let charts = [];\n        if (selectedFilters.gender === true) {\n            charts.push(\n                <GenderChart\n                    yearToSchoolArrayDataMap={this.state.filteredSchoolData}\n                    key=\"genderChart\"\n                />\n            );\n        }\n\n        if (selectedFilters.ethnicity === true) {\n            charts.push(\n                <EthnicityChart\n                    // options={this.state.schoolOptions}\n                    // schoolData={this.state.schoolData}\n                    yearToSchoolArrayDataMap={this.state.filteredSchoolData}\n                    key=\"ethnicityChart\"\n                />\n            );\n        }\n\n        if (selectedFilters.economicallyDisadvantaged === true) {\n            charts.push(\n                <EconDisChart\n                    yearToSchoolArrayDataMap={this.state.filteredSchoolData}\n                    // options={this.state.schoolOptions}\n                    // schoolData={this.state.schoolData}\n                    key=\"economicallyDisadvantagedChart\"\n                />\n            );\n        }\n\n        if (selectedFilters.disability === true) {\n            charts.push(\n                <DisabilityChart\n                    yearToSchoolArrayDataMap={this.state.filteredSchoolData}\n                    // options={this.state.schoolOptions}\n                    // schoolData={this.state.schoolData}\n                    key=\"disabilityChart\"\n                />\n            );\n        }\n\n        if (selectedFilters.englishLanguageLearner === true) {\n            charts.push(\n                <ELLChart\n                    yearToSchoolArrayDataMap={this.state.filteredSchoolData}\n                    // options={this.state.schoolOptions}\n                    // schoolData={this.state.schoolData}\n                    key=\"ellChart\"\n                />\n            );\n        }\n\n        if (selectedFilters.courseEnrollment === true) {\n            charts.push(\n                <CourseEnrollmentChart\n                    yearToSchoolArrayDataMap={this.state.filteredSchoolData}\n                    key=\"enrollmentChart\"\n                />\n            );\n        }\n\n        return charts;\n    }\n\n    graphSelectionChangeHandler(newSelection) {\n        this.setState({\n            selectedFilters: newSelection\n        });\n    }\n\n    yearSelectionChangeHandler(newSelection) {\n        this.setState({\n            selectedYears: newSelection,\n            filteredSchoolData: this.filterYearSchoolObjectMap(this.state.newSchoolData, this.state.schoolOptions, newSelection)\n        });\n    }\n\n    schoolFilterChangeHandler(selectedOptions, actionMeta) {\n        console.log(actionMeta);\n        if (!selectedOptions) {\n            selectedOptions = [];\n        }\n\n        const selectedSchoolOptions = this.transformSelectedOptions(selectedOptions);\n        this.setState({\n            schoolOptions: selectedSchoolOptions,\n            filteredSchoolData: this.filterYearSchoolObjectMap(this.state.newSchoolData, selectedSchoolOptions, this.state.selectedYearsMap)\n        });\n    }\n\n    /**\n     *\n     * @param {array} schoolDataArray\n     * @param {array} selectedSchools list of selected schools\n     * @param {Map} selectedYears\n     * @returns {[]}\n     */\n    transformSchoolData(schoolDataArray, selectedSchools, selectedYears) {\n        let validDataArray = this.filterSchoolDataWithFields(schoolDataArray);\n        let yearSchoolObjectMap = this.getYearSchoolObjectMapNew(validDataArray);\n\n\n        // add info for all districts\n        const allYears = Object.keys(yearSchoolObjectMap);\n        for (let year of allYears) {\n            const allSchoolNames = Object.keys(yearSchoolObjectMap[year]);\n            let thisYearSchoolObjectMap = yearSchoolObjectMap[year];\n\n            for (let schoolName of allSchoolNames) {\n                const schoolObject = thisYearSchoolObjectMap[schoolName];\n                const districtName = schoolObject._districtName;\n                const schoolYear = schoolObject._schoolYear;\n\n                let districtObject = thisYearSchoolObjectMap[districtName];\n                if (!districtObject) {\n                    districtObject = new School();\n                    districtObject.setName(districtName);\n                    districtObject.setType(EntityType.DISTRICT);\n                    districtObject.setEthnicityMap(EthnicityDefaultMap);\n                    districtObject.setSchoolYear(schoolYear);\n                } else {\n                    // console.log(districtName);\n                    // console.log(schoolName);\n                }\n                districtObject.setMale(\n                    districtObject._male + schoolObject._male\n                );\n                districtObject.setFemale(\n                    districtObject._female + schoolObject._female\n                );\n\n                districtObject.setEconomicallyDisadvantaged(\n                    districtObject._economicallyDisadvantaged +\n                        schoolObject._economicallyDisadvantaged\n                );\n\n                districtObject.setEnrolled(\n                    districtObject._enrolled + schoolObject._enrolled\n                );\n                districtObject.setStudentsWithDisability(\n                    districtObject._studentsWithDisability +\n                        schoolObject._studentsWithDisability\n                );\n\n                let thisDistrictEthnicityArray = [];\n                let thisDistrictEthnicityMap = districtObject._ethnicityMap;\n\n                for (let key in schoolObject._ethnicityMap) {\n                    const ethnicityObj = schoolObject._ethnicityMap[key];\n                    thisDistrictEthnicityMap[key].value += ethnicityObj.value;\n                    thisDistrictEthnicityArray.push(\n                        thisDistrictEthnicityMap[key]\n                    );\n                }\n\n                districtObject.setEthnicityMap(thisDistrictEthnicityMap);\n                districtObject.setEthnicity(thisDistrictEthnicityArray);\n\n                districtObject.setEnglishLanguageLearner(\n                    districtObject._englishLanguageLearner +\n                        schoolObject._englishLanguageLearner\n                );\n\n                districtObject.setPrimaryEnrolled(districtObject._primaryEnrolled + schoolObject._primaryEnrolled);\n                districtObject.setSecondaryEnrolled(districtObject._secondaryEnrolled + schoolObject._secondaryEnrolled);\n\n                thisYearSchoolObjectMap[districtName] = districtObject;\n            }\n            yearSchoolObjectMap[year] = thisYearSchoolObjectMap;\n        }\n\n        return yearSchoolObjectMap;\n    }\n\n    transformSelectedOptions(selectedOptions) {\n        let schoolNameArray = [];\n        selectedOptions.forEach(row => {\n            schoolNameArray.push(row.label);\n        });\n        return schoolNameArray;\n    }\n\n    extractSchoolData(schoolDataArray) {\n        let filteredArray = [];\n        let schoolObjectMap = {};\n\n        //  TODO: do this by year\n\n        filteredArray = this.filterSchoolDataWithFields(schoolDataArray);\n        schoolObjectMap = this.getSchoolObjectMap(filteredArray);\n\n        // add info for all districts\n        const allSchoolNames = Object.keys(schoolObjectMap);\n        for (let schoolName of allSchoolNames) {\n            const schoolObject = schoolObjectMap[schoolName];\n            const districtName = schoolObject._districtName;\n\n            let districtObject = schoolObjectMap[districtName];\n            if (!districtObject) {\n                districtObject = new School();\n                districtObject.setName(districtName);\n                districtObject.setType(EntityType.DISTRICT);\n                districtObject.setEthnicityMap(EthnicityDefaultMap);\n            } else {\n                // console.log(districtName);\n                // console.log(schoolName);\n            }\n            districtObject.setMale(districtObject._male + schoolObject._male);\n            districtObject.setFemale(\n                districtObject._female + schoolObject._female\n            );\n\n            districtObject.setEconomicallyDisadvantaged(\n                districtObject._economicallyDisadvantaged +\n                    schoolObject._economicallyDisadvantaged\n            );\n\n            districtObject.setEnrolled(\n                districtObject._enrolled + schoolObject._enrolled\n            );\n            districtObject.setStudentsWithDisability(\n                districtObject._studentsWithDisability +\n                    schoolObject._studentsWithDisability\n            );\n\n            let thisDistrictEthnicityArray = [];\n            let thisDistrictEthnicityMap = districtObject._ethnicityMap;\n\n            for (let key in schoolObject._ethnicityMap) {\n                const ethnicityObj = schoolObject._ethnicityMap[key];\n                thisDistrictEthnicityMap[key].value += ethnicityObj.value;\n                thisDistrictEthnicityArray.push(thisDistrictEthnicityMap[key]);\n            }\n\n            districtObject.setEthnicityMap(thisDistrictEthnicityMap);\n            districtObject.setEthnicity(thisDistrictEthnicityArray);\n\n            districtObject.setEnglishLanguageLearner(\n                districtObject._englishLanguageLearner +\n                    schoolObject._englishLanguageLearner\n            );\n\n            schoolObjectMap[districtName] = districtObject;\n        }\n\n        // console.log(\"schoolObjectMap\");\n        // console.log(schoolObjectMap);\n        return schoolObjectMap;\n    }\n\n    // only use schooldata that have the fields available\n    filterSchoolDataWithFields(schoolDataArray) {\n        let filteredArray = [];\n        let schoolsWithMissingEntry = [];\n        // filter out schools with all available data\n        schoolDataArray.forEach(schoolRow => {\n            if (\n                Number.isInteger(parseInt(schoolRow[\"FEMALE\"])) &&\n                Number.isInteger(parseInt(schoolRow[\"MALE\"])) &&\n                schoolRow[\"DIST_NAME\"] &&\n                Number.isInteger(parseInt(schoolRow[\"ECODIS\"])) &&\n                Number.isInteger(parseInt(schoolRow[\"SWD\"])) &&\n                Number.isInteger(parseInt(schoolRow[\"SY\"])) &&\n                Number.isInteger(parseInt(schoolRow[\"ELL\"])) &&\n                Number.isInteger(parseInt(schoolRow[\"primary\"])) &&\n                Number.isInteger(parseInt(schoolRow[\"secondary\"]))\n            ) {\n                filteredArray.push(schoolRow);\n            } else {\n                schoolsWithMissingEntry.push(schoolRow);\n            }\n        });\n\n        if (schoolsWithMissingEntry.length > 0) {\n            // console.log(\"missing entry for schools: \");\n            // console.log(schoolsWithMissingEntry);\n        }\n\n        return filteredArray;\n    }\n\n\n    getSchoolObjectMap(filteredArray) {\n        let schoolObjectMap = {};\n\n        // add all school data\n        filteredArray.forEach(schoolRow => {\n            const schoolName = schoolRow[\"SCH_NAME\"];\n            const districtName = schoolRow[\"DIST_NAME\"];\n\n            let thisSchool = new School();\n            thisSchool.setName(schoolName);\n            thisSchool.setType(EntityType.SCHOOL);\n            thisSchool.setMale(parseInt(schoolRow[\"MALE\"]));\n            thisSchool.setFemale(parseInt(schoolRow[\"FEMALE\"]));\n            thisSchool.setDistrictName(districtName);\n            thisSchool.setEthnicity([]);\n            thisSchool.setEconomicallyDisadvantaged(\n                parseInt(schoolRow[\"ECODIS\"])\n            );\n            thisSchool.setEnrolled(parseInt(schoolRow[\"STUDENTS_ENROLLED\"]));\n            thisSchool.setStudentsWithDisability(parseInt(schoolRow[\"SWD\"]));\n            thisSchool.setSchoolYear(parseInt(schoolRow[\"SY\"]));\n            thisSchool.setEnglishLanguageLearner(parseInt(schoolRow[\"ELL\"]));\n\n            let thisSchoolEthnicityArray = [];\n            let thisSchoolEthnicityMap = {};\n\n            EthnicityAcronymList.forEach(ethnicityObj => {\n                let ethnicityArrayMember = {\n                    id: ethnicityObj.id,\n                    value: parseInt(schoolRow[ethnicityObj.id]),\n                    label: ethnicityObj.desc,\n                    desc: ethnicityObj.desc,\n                    chartColor: ethnicityObj.chartColor\n                };\n\n                thisSchoolEthnicityArray.push(ethnicityArrayMember);\n                thisSchoolEthnicityMap[\n                    ethnicityArrayMember.id\n                ] = ethnicityArrayMember;\n            });\n\n            thisSchool.setEthnicity(thisSchoolEthnicityArray);\n            thisSchool.setEthnicityMap(thisSchoolEthnicityMap);\n\n            schoolObjectMap[schoolName] = thisSchool;\n        });\n\n        return schoolObjectMap;\n    }\n\n    /**\n     *\n     * @param {array} filteredArray\n     * @returns {Map} yearSchoolObjectMap\n     */\n    getYearSchoolObjectMapNew(filteredArray) {\n        let schoolObjectMap = {};\n        let yearSchoolObjectMap = {};\n\n        // add all school data\n        filteredArray.forEach(schoolRow => {\n            const schoolName = schoolRow[\"SCH_NAME\"];\n            const districtName = schoolRow[\"DIST_NAME\"];\n            const schoolYear = parseInt(schoolRow[\"SY\"]);\n\n            let thisSchool = new School();\n            thisSchool.setName(schoolName);\n            thisSchool.setType(EntityType.SCHOOL);\n            thisSchool.setMale(parseInt(schoolRow[\"MALE\"]));\n            thisSchool.setFemale(parseInt(schoolRow[\"FEMALE\"]));\n            thisSchool.setDistrictName(districtName);\n            thisSchool.setEthnicity([]);\n            thisSchool.setEconomicallyDisadvantaged(\n                parseInt(schoolRow[\"ECODIS\"])\n            );\n            thisSchool.setEnrolled(parseInt(schoolRow[\"STUDENTS_ENROLLED\"]));\n            thisSchool.setStudentsWithDisability(parseInt(schoolRow[\"SWD\"]));\n            thisSchool.setSchoolYear(schoolYear);\n            thisSchool.setEnglishLanguageLearner(parseInt(schoolRow[\"ELL\"]));\n            thisSchool.setPrimaryEnrolled(parseInt(schoolRow[\"primary\"]));\n            thisSchool.setSecondaryEnrolled(parseInt(schoolRow[\"secondary\"]));\n\n            let thisSchoolEthnicityArray = [];\n            let thisSchoolEthnicityMap = {};\n\n            EthnicityAcronymList.forEach(ethnicityObj => {\n                let ethnicityArrayMember = {\n                    id: ethnicityObj.id,\n                    value: parseInt(schoolRow[ethnicityObj.id]),\n                    label: ethnicityObj.desc,\n                    desc: ethnicityObj.desc,\n                    chartColor: ethnicityObj.chartColor\n                };\n\n                thisSchoolEthnicityArray.push(ethnicityArrayMember);\n                thisSchoolEthnicityMap[\n                    ethnicityArrayMember.id\n                ] = ethnicityArrayMember;\n            });\n\n            thisSchool.setEthnicity(thisSchoolEthnicityArray);\n            thisSchool.setEthnicityMap(thisSchoolEthnicityMap);\n\n            schoolObjectMap[schoolName] = thisSchool;\n            let thisYearSchoolObjectMap = yearSchoolObjectMap[schoolYear];\n            if (!thisYearSchoolObjectMap) {\n                thisYearSchoolObjectMap = {};\n            }\n            thisYearSchoolObjectMap[schoolName] = thisSchool;\n            yearSchoolObjectMap[schoolYear] = thisYearSchoolObjectMap;\n        });\n\n        // return schoolObjectMap;\n\n        // console.log(\"yearSchoolObjectMap\");\n        // console.log(yearSchoolObjectMap);\n\n        return yearSchoolObjectMap;\n    }\n\n    /**\n     * Filter School data on schools and years selected\n     * @param {Map} yearSchoolObjectMap\n     * @param {Array} selectedSchoolsArray\n     * @param {Map} selectedYearsMap\n     * @returns {Map} filteredSchoolDataMap of type Map[year] -> Array{SchoolObject}\n     */\n    filterYearSchoolObjectMap(yearSchoolObjectMap, selectedSchoolsArray, selectedYearsMap) {\n        let filteredSchoolDataMap = {};\n        let selectedYearsArray = [];\n        Object.keys(selectedYearsMap).forEach((key) => {\n            if(selectedYearsMap[key]===true)\n                selectedYearsArray.push(key)\n        });\n\n        selectedYearsArray.forEach(year => {\n            if(!filteredSchoolDataMap[year]) filteredSchoolDataMap[year] = [];\n           selectedSchoolsArray.forEach(schoolName => {\n               filteredSchoolDataMap[year].push(yearSchoolObjectMap[year][schoolName]);\n           });\n        });\n\n        console.log(\"filteredSchoolDataMap\");\n        console.log(filteredSchoolDataMap);\n\n        return filteredSchoolDataMap;\n    }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}